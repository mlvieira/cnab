var At=e=>{throw TypeError(e)};var Rt=(e,o,t)=>o.has(e)||At("Cannot "+t);var se=(e,o,t)=>(Rt(e,o,"read from private field"),t?t.call(e):o.get(e)),oo=(e,o,t)=>o.has(e)?At("Cannot add the same private member more than once"):o instanceof WeakSet?o.add(e):o.set(e,t);var we=(e,o,t)=>(Rt(e,o,"access private method"),t);(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const n of r)if(n.type==="childList")for(const u of n.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&a(u)}).observe(document,{childList:!0,subtree:!0});function t(r){const n={};return r.integrity&&(n.integrity=r.integrity),r.referrerPolicy&&(n.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?n.credentials="include":r.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function a(r){if(r.ep)return;r.ep=!0;const n=t(r);fetch(r.href,n)}})();const Ot=!1;var ct=Array.isArray,Fa=Array.prototype.indexOf,_t=Array.from,Qt=Object.defineProperty,io=Object.getOwnPropertyDescriptor,Wt=Object.getOwnPropertyDescriptors,Pa=Object.prototype,Ba=Array.prototype,ut=Object.getPrototypeOf,Dt=Object.isExtensible;const so=()=>{};function Ua(e){return e()}function at(e){for(var o=0;o<e.length;o++)e[o]()}const be=2,Jt=4,jo=8,dt=16,Fe=32,lo=64,Ro=128,pe=256,Oo=512,re=1024,Ne=2048,ze=4096,Ie=8192,Ho=16384,Ma=32768,pt=65536,Va=1<<17,ja=1<<19,Yt=1<<20,rt=1<<21,Ye=Symbol("$state"),Ha=Symbol("legacy props");function Xt(e){return e===this.v}function Zt(e,o){return e!=e?o==o:e!==o||e!==null&&typeof e=="object"||typeof e=="function"}function ea(e){return!Zt(e,this.v)}function za(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function Ka(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Ga(e){throw new Error("https://svelte.dev/e/effect_orphan")}function Qa(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Wa(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Ja(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Ya(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}let yo=!1,Xa=!1;function Za(){yo=!0}const ft=1,mt=2,oa=4,er=8,or=16,tr=2,ar=1,rr=2,le=Symbol(),nr="http://www.w3.org/1999/xhtml";let M=null;function kt(e){M=e}function vt(e,o=!1,t){var a=M={p:M,c:null,d:!1,e:null,m:!1,s:e,x:null,l:null};yo&&!o&&(M.l={s:null,u:null,r1:[],r2:bo(!1)}),ht(()=>{a.d=!0})}function gt(e){const o=M;if(o!==null){const u=o.e;if(u!==null){var t=I,a=k;o.e=null;try{for(var r=0;r<u.length;r++){var n=u[r];He(n.effect),Te(n.reaction),xt(n.fn)}}finally{He(t),Te(a)}}M=o.p,o.m=!0}return{}}function zo(){return!yo||M!==null&&M.l===null}function ro(e){if(typeof e!="object"||e===null||Ye in e)return e;const o=ut(e);if(o!==Pa&&o!==Ba)return e;var t=new Map,a=ct(e),r=Ue(0),n=k,u=c=>{var l=k;Te(n);var i=c();return Te(l),i};return a&&t.set("length",Ue(e.length)),new Proxy(e,{defineProperty(c,l,i){(!("value"in i)||i.configurable===!1||i.enumerable===!1||i.writable===!1)&&Wa();var _=t.get(l);return _===void 0?(_=u(()=>Ue(i.value)),t.set(l,_)):U(_,u(()=>ro(i.value))),!0},deleteProperty(c,l){var i=t.get(l);if(i===void 0)l in c&&(t.set(l,u(()=>Ue(le))),et(r));else{if(a&&typeof l=="string"){var _=t.get("length"),d=Number(l);Number.isInteger(d)&&d<_.v&&U(_,d)}U(i,le),et(r)}return!0},get(c,l,i){var m;if(l===Ye)return e;var _=t.get(l),d=l in c;if(_===void 0&&(!d||(m=io(c,l))!=null&&m.writable)&&(_=u(()=>Ue(ro(d?c[l]:le))),t.set(l,_)),_!==void 0){var s=f(_);return s===le?void 0:s}return Reflect.get(c,l,i)},getOwnPropertyDescriptor(c,l){var i=Reflect.getOwnPropertyDescriptor(c,l);if(i&&"value"in i){var _=t.get(l);_&&(i.value=f(_))}else if(i===void 0){var d=t.get(l),s=d==null?void 0:d.v;if(d!==void 0&&s!==le)return{enumerable:!0,configurable:!0,value:s,writable:!0}}return i},has(c,l){var s;if(l===Ye)return!0;var i=t.get(l),_=i!==void 0&&i.v!==le||Reflect.has(c,l);if(i!==void 0||I!==null&&(!_||(s=io(c,l))!=null&&s.writable)){i===void 0&&(i=u(()=>Ue(_?ro(c[l]):le)),t.set(l,i));var d=f(i);if(d===le)return!1}return _},set(c,l,i,_){var F;var d=t.get(l),s=l in c;if(a&&l==="length")for(var m=i;m<d.v;m+=1){var p=t.get(m+"");p!==void 0?U(p,le):m in c&&(p=u(()=>Ue(le)),t.set(m+"",p))}d===void 0?(!s||(F=io(c,l))!=null&&F.writable)&&(d=u(()=>Ue(void 0)),U(d,u(()=>ro(i))),t.set(l,d)):(s=d.v!==le,U(d,u(()=>ro(i))));var $=Reflect.getOwnPropertyDescriptor(c,l);if($!=null&&$.set&&$.set.call(_,i),!s){if(a&&typeof l=="string"){var h=t.get("length"),q=Number(l);Number.isInteger(q)&&q>=h.v&&U(h,q+1)}et(r)}return!0},ownKeys(c){f(r);var l=Reflect.ownKeys(c).filter(d=>{var s=t.get(d);return s===void 0||s.v!==le});for(var[i,_]of t)_.v!==le&&!(i in c)&&l.push(i);return l},setPrototypeOf(){Ja()}})}function et(e,o=1){U(e,e.v+o)}function bt(e){var o=be|Ne,t=k!==null&&(k.f&be)!==0?k:null;return I===null||t!==null&&(t.f&pe)!==0?o|=pe:I.f|=Yt,{ctx:M,deps:null,effects:null,equals:Xt,f:o,fn:e,reactions:null,rv:0,v:null,wv:0,parent:t??I}}function vo(e){const o=bt(e);return o.equals=ea,o}function ta(e){var o=e.effects;if(o!==null){e.effects=null;for(var t=0;t<o.length;t+=1)je(o[t])}}function ir(e){for(var o=e.parent;o!==null;){if((o.f&be)===0)return o;o=o.parent}return null}function aa(e){var o,t=I;He(ir(e));try{ta(e),o=ba(e)}finally{He(t)}return o}function ra(e){var o=aa(e),t=(Ve||(e.f&pe)!==0)&&e.deps!==null?ze:re;ve(e,t),e.equals(o)||(e.v=o,e.wv=va())}const go=new Map;function bo(e,o){var t={f:0,v:e,reactions:null,equals:Xt,rv:0,wv:0};return t}function Ue(e,o){const t=bo(e);return br(t),t}function de(e,o=!1){var a;const t=bo(e);return o||(t.equals=ea),yo&&M!==null&&M.l!==null&&((a=M.l).s??(a.s=[])).push(t),t}function sr(e,o){return U(e,Eo(()=>f(e))),o}function U(e,o,t=!1){k!==null&&!$e&&zo()&&(k.f&(be|dt))!==0&&!(ae!=null&&ae.includes(e))&&Ya();let a=t?ro(o):o;return nt(e,a)}function nt(e,o){if(!e.equals(o)){var t=e.v;wo?go.set(e,o):go.set(e,t),e.v=o,(e.f&be)!==0&&((e.f&Ne)!==0&&aa(e),ve(e,(e.f&pe)===0?re:ze)),e.wv=va(),na(e,Ne),zo()&&I!==null&&(I.f&re)!==0&&(I.f&(Fe|lo))===0&&(me===null?hr([e]):me.push(e))}return o}function na(e,o){var t=e.reactions;if(t!==null)for(var a=zo(),r=t.length,n=0;n<r;n++){var u=t[n],c=u.f;(c&Ne)===0&&(!a&&u===I||(ve(u,o),(c&(re|pe))!==0&&((c&be)!==0?na(u,ze):Yo(u))))}}let lr=!1;var It,ia,sa,la;function cr(){if(It===void 0){It=window,ia=/Firefox/.test(navigator.userAgent);var e=Element.prototype,o=Node.prototype,t=Text.prototype;sa=io(o,"firstChild").get,la=io(o,"nextSibling").get,Dt(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),Dt(t)&&(t.__t=void 0)}}function Ko(e=""){return document.createTextNode(e)}function Do(e){return sa.call(e)}function Go(e){return la.call(e)}function v(e,o){return Do(e)}function We(e,o){{var t=Do(e);return t instanceof Comment&&t.data===""?Go(t):t}}function b(e,o=1,t=!1){let a=e;for(;o--;)a=Go(a);return a}function _r(e){e.textContent=""}function ca(e){I===null&&k===null&&Ga(),k!==null&&(k.f&pe)!==0&&I===null&&Ka(),wo&&za()}function ur(e,o){var t=o.last;t===null?o.last=o.first=e:(t.next=e,e.prev=t,o.last=e)}function co(e,o,t,a=!0){var r=I,n={ctx:M,deps:null,nodes_start:null,nodes_end:null,f:e|Ne,first:null,fn:o,last:null,next:null,parent:r,prev:null,teardown:null,transitions:null,wv:0};if(t)try{Jo(n),n.f|=Ma}catch(l){throw je(n),l}else o!==null&&Yo(n);var u=t&&n.deps===null&&n.first===null&&n.nodes_start===null&&n.teardown===null&&(n.f&(Yt|Ro))===0;if(!u&&a&&(r!==null&&ur(n,r),k!==null&&(k.f&be)!==0)){var c=k;(c.effects??(c.effects=[])).push(n)}return n}function ht(e){const o=co(jo,null,!1);return ve(o,re),o.teardown=e,o}function Ft(e){ca();var o=I!==null&&(I.f&Fe)!==0&&M!==null&&!M.m;if(o){var t=M;(t.e??(t.e=[])).push({fn:e,effect:I,reaction:k})}else{var a=xt(e);return a}}function dr(e){return ca(),Qo(e)}function pr(e){const o=co(lo,e,!0);return(t={})=>new Promise(a=>{t.outro?ko(o,()=>{je(o),a(void 0)}):(je(o),a(void 0))})}function xt(e){return co(Jt,e,!1)}function Ee(e,o){var t=M,a={effect:null,ran:!1};t.l.r1.push(a),a.effect=Qo(()=>{e(),!a.ran&&(a.ran=!0,U(t.l.r2,!0),Eo(o))})}function fr(){var e=M;Qo(()=>{if(f(e.l.r2)){for(var o of e.l.r1){var t=o.effect;(t.f&re)!==0&&ve(t,ze),_o(t)&&Jo(t),o.ran=!1}e.l.r2.v=!1}})}function Qo(e){return co(jo,e,!0)}function A(e,o=[],t=bt){const a=o.map(t);return yt(()=>e(...a.map(f)))}function yt(e,o=0){return co(jo|dt|o,e,!0)}function ho(e,o=!0){return co(jo|Fe,e,!0,o)}function _a(e){var o=e.teardown;if(o!==null){const t=wo,a=k;Pt(!0),Te(null);try{o.call(null)}finally{Pt(t),Te(a)}}}function ua(e,o=!1){var t=e.first;for(e.first=e.last=null;t!==null;){var a=t.next;(t.f&lo)!==0?t.parent=null:je(t,o),t=a}}function mr(e){for(var o=e.first;o!==null;){var t=o.next;(o.f&Fe)===0&&je(o),o=t}}function je(e,o=!0){var t=!1;(o||(e.f&ja)!==0)&&e.nodes_start!==null&&(vr(e.nodes_start,e.nodes_end),t=!0),ua(e,o&&!t),Uo(e,0),ve(e,Ho);var a=e.transitions;if(a!==null)for(const n of a)n.stop();_a(e);var r=e.parent;r!==null&&r.first!==null&&da(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=null}function vr(e,o){for(;e!==null;){var t=e===o?null:Go(e);e.remove(),e=t}}function da(e){var o=e.parent,t=e.prev,a=e.next;t!==null&&(t.next=a),a!==null&&(a.prev=t),o!==null&&(o.first===e&&(o.first=a),o.last===e&&(o.last=t))}function ko(e,o){var t=[];wt(e,t,!0),pa(t,()=>{je(e),o&&o()})}function pa(e,o){var t=e.length;if(t>0){var a=()=>--t||o();for(var r of e)r.out(a)}else o()}function wt(e,o,t){if((e.f&Ie)===0){if(e.f^=Ie,e.transitions!==null)for(const u of e.transitions)(u.is_global||t)&&o.push(u);for(var a=e.first;a!==null;){var r=a.next,n=(a.f&pt)!==0||(a.f&Fe)!==0;wt(a,o,n?t:!1),a=r}}}function Io(e){fa(e,!0)}function fa(e,o){if((e.f&Ie)!==0){e.f^=Ie,(e.f&re)===0&&(e.f^=re),_o(e)&&(ve(e,Ne),Yo(e));for(var t=e.first;t!==null;){var a=t.next,r=(t.f&pt)!==0||(t.f&Fe)!==0;fa(t,r?o:!1),t=a}if(e.transitions!==null)for(const n of e.transitions)(n.is_global||o)&&n.in()}}let Fo=[];function gr(){var e=Fo;Fo=[],at(e)}function Et(e){Fo.length===0&&queueMicrotask(gr),Fo.push(e)}let So=!1,it=!1,Po=null,Xe=!1,wo=!1;function Pt(e){wo=e}let Ao=[];let k=null,$e=!1;function Te(e){k=e}let I=null;function He(e){I=e}let ae=null;function br(e){k!==null&&k.f&rt&&(ae===null?ae=[e]:ae.push(e))}let te=null,ue=0,me=null;function hr(e){me=e}let ma=1,Bo=0,Ve=!1;function va(){return++ma}function _o(e){var d;var o=e.f;if((o&Ne)!==0)return!0;if((o&ze)!==0){var t=e.deps,a=(o&pe)!==0;if(t!==null){var r,n,u=(o&Oo)!==0,c=a&&I!==null&&!Ve,l=t.length;if(u||c){var i=e,_=i.parent;for(r=0;r<l;r++)n=t[r],(u||!((d=n==null?void 0:n.reactions)!=null&&d.includes(i)))&&(n.reactions??(n.reactions=[])).push(i);u&&(i.f^=Oo),c&&_!==null&&(_.f&pe)===0&&(i.f^=pe)}for(r=0;r<l;r++)if(n=t[r],_o(n)&&ra(n),n.wv>e.wv)return!0}(!a||I!==null&&!Ve)&&ve(e,re)}return!1}function xr(e,o){for(var t=o;t!==null;){if((t.f&Ro)!==0)try{t.fn(e);return}catch{t.f^=Ro}t=t.parent}throw So=!1,e}function Bt(e){return(e.f&Ho)===0&&(e.parent===null||(e.parent.f&Ro)===0)}function Wo(e,o,t,a){if(So){if(t===null&&(So=!1),Bt(o))throw e;return}if(t!==null&&(So=!0),xr(e,o),Bt(o))throw e}function ga(e,o,t=!0){var a=e.reactions;if(a!==null)for(var r=0;r<a.length;r++){var n=a[r];ae!=null&&ae.includes(e)||((n.f&be)!==0?ga(n,o,!1):o===n&&(t?ve(n,Ne):(n.f&re)!==0&&ve(n,ze),Yo(n)))}}function ba(e){var m;var o=te,t=ue,a=me,r=k,n=Ve,u=ae,c=M,l=$e,i=e.f;te=null,ue=0,me=null,Ve=(i&pe)!==0&&($e||!Xe||k===null),k=(i&(Fe|lo))===0?e:null,ae=null,kt(e.ctx),$e=!1,Bo++,e.f|=rt;try{var _=(0,e.fn)(),d=e.deps;if(te!==null){var s;if(Uo(e,ue),d!==null&&ue>0)for(d.length=ue+te.length,s=0;s<te.length;s++)d[ue+s]=te[s];else e.deps=d=te;if(!Ve)for(s=ue;s<d.length;s++)((m=d[s]).reactions??(m.reactions=[])).push(e)}else d!==null&&ue<d.length&&(Uo(e,ue),d.length=ue);if(zo()&&me!==null&&!$e&&d!==null&&(e.f&(be|ze|Ne))===0)for(s=0;s<me.length;s++)ga(me[s],e);return r!==null&&r!==e&&(Bo++,me!==null&&(a===null?a=me:a.push(...me))),_}finally{te=o,ue=t,me=a,k=r,Ve=n,ae=u,kt(c),$e=l,e.f^=rt}}function yr(e,o){let t=o.reactions;if(t!==null){var a=Fa.call(t,e);if(a!==-1){var r=t.length-1;r===0?t=o.reactions=null:(t[a]=t[r],t.pop())}}t===null&&(o.f&be)!==0&&(te===null||!te.includes(o))&&(ve(o,ze),(o.f&(pe|Oo))===0&&(o.f^=Oo),ta(o),Uo(o,0))}function Uo(e,o){var t=e.deps;if(t!==null)for(var a=o;a<t.length;a++)yr(e,t[a])}function Jo(e){var o=e.f;if((o&Ho)===0){ve(e,re);var t=I,a=M,r=Xe;I=e,Xe=!0;try{(o&dt)!==0?mr(e):ua(e),_a(e);var n=ba(e);e.teardown=typeof n=="function"?n:null,e.wv=ma;var u=e.deps,c;Ot&&Xa&&e.f&Ne}catch(l){Wo(l,e,t,a||e.ctx)}finally{Xe=r,I=t}}}function wr(){try{Qa()}catch(e){if(Po!==null)Wo(e,Po,null);else throw e}}function Er(){var e=Xe;try{var o=0;for(Xe=!0;Ao.length>0;){o++>1e3&&wr();var t=Ao,a=t.length;Ao=[];for(var r=0;r<a;r++){var n=$r(t[r]);Cr(n)}go.clear()}}finally{it=!1,Xe=e,Po=null}}function Cr(e){var o=e.length;if(o!==0)for(var t=0;t<o;t++){var a=e[t];if((a.f&(Ho|Ie))===0)try{_o(a)&&(Jo(a),a.deps===null&&a.first===null&&a.nodes_start===null&&(a.teardown===null?da(a):a.fn=null))}catch(r){Wo(r,a,null,a.ctx)}}}function Yo(e){it||(it=!0,queueMicrotask(Er));for(var o=Po=e;o.parent!==null;){o=o.parent;var t=o.f;if((t&(lo|Fe))!==0){if((t&re)===0)return;o.f^=re}}Ao.push(o)}function $r(e){for(var o=[],t=e;t!==null;){var a=t.f,r=(a&(Fe|lo))!==0,n=r&&(a&re)!==0;if(!n&&(a&Ie)===0){if((a&Jt)!==0)o.push(t);else if(r)t.f^=re;else try{_o(t)&&Jo(t)}catch(l){Wo(l,t,null,t.ctx)}var u=t.first;if(u!==null){t=u;continue}}var c=t.parent;for(t=t.next;t===null&&c!==null;)t=c.next,c=c.parent}return o}function f(e){var o=e.f,t=(o&be)!==0;if(k!==null&&!$e){if(!(ae!=null&&ae.includes(e))){var a=k.deps;e.rv<Bo&&(e.rv=Bo,te===null&&a!==null&&a[ue]===e?ue++:te===null?te=[e]:(!Ve||!te.includes(e))&&te.push(e))}}else if(t&&e.deps===null&&e.effects===null){var r=e,n=r.parent;n!==null&&(n.f&pe)===0&&(r.f^=pe)}return t&&(r=e,_o(r)&&ra(r)),wo&&go.has(e)?go.get(e):e.v}function Eo(e){var o=$e;try{return $e=!0,e()}finally{$e=o}}const Nr=-7169;function ve(e,o){e.f=e.f&Nr|o}function De(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(Ye in e)st(e);else if(!Array.isArray(e))for(let o in e){const t=e[o];typeof t=="object"&&t&&Ye in t&&st(t)}}}function st(e,o=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!o.has(e)){o.add(e),e instanceof Date&&e.getTime();for(let a in e)try{st(e[a],o)}catch{}const t=ut(e);if(t!==Object.prototype&&t!==Array.prototype&&t!==Map.prototype&&t!==Set.prototype&&t!==Date.prototype){const a=Wt(t);for(let r in a){const n=a[r].get;if(n)try{n.call(e)}catch{}}}}}const Tr=["touchstart","touchmove"];function Lr(e){return Tr.includes(e)}function qr(e){var o=k,t=I;Te(null),He(null);try{return e()}finally{Te(o),He(t)}}const Sr=new Set,Ut=new Set;function Ar(e,o,t,a={}){function r(n){if(a.capture||mo.call(o,n),!n.cancelBubble)return qr(()=>t==null?void 0:t.call(this,n))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?Et(()=>{o.addEventListener(e,r,a)}):o.addEventListener(e,r,a),r}function ot(e,o,t,a,r){var n={capture:a,passive:r},u=Ar(e,o,t,n);(o===document.body||o===window||o===document)&&ht(()=>{o.removeEventListener(e,u,n)})}function mo(e){var F;var o=this,t=o.ownerDocument,a=e.type,r=((F=e.composedPath)==null?void 0:F.call(e))||[],n=r[0]||e.target,u=0,c=e.__root;if(c){var l=r.indexOf(c);if(l!==-1&&(o===document||o===window)){e.__root=o;return}var i=r.indexOf(o);if(i===-1)return;l<=i&&(u=l)}if(n=r[u]||e.target,n!==o){Qt(e,"currentTarget",{configurable:!0,get(){return n||t}});var _=k,d=I;Te(null),He(null);try{for(var s,m=[];n!==null;){var p=n.assignedSlot||n.parentNode||n.host||null;try{var $=n["__"+a];if($!=null&&(!n.disabled||e.target===n))if(ct($)){var[h,...q]=$;h.apply(n,[e,...q])}else $.call(n,e)}catch(y){s?m.push(y):s=y}if(e.cancelBubble||p===o||p===null)break;n=p}if(s){for(let y of m)queueMicrotask(()=>{throw y});throw s}}finally{e.__root=o,delete e.currentTarget,Te(_),He(d)}}}function Rr(e){var o=document.createElement("template");return o.innerHTML=e,o.content}function Mo(e,o){var t=I;t.nodes_start===null&&(t.nodes_start=e,t.nodes_end=o)}function L(e,o){var t=(o&ar)!==0,a=(o&rr)!==0,r,n=!e.startsWith("<!>");return()=>{r===void 0&&(r=Rr(n?e:"<!>"+e),t||(r=Do(r)));var u=a||ia?document.importNode(r,!0):r.cloneNode(!0);if(t){var c=Do(u),l=u.lastChild;Mo(c,l)}else Mo(u,u);return u}}function Or(e=""){{var o=Ko(e+"");return Mo(o,o),o}}function Dr(){var e=document.createDocumentFragment(),o=document.createComment(""),t=Ko();return e.append(o,t),Mo(o,t),e}function N(e,o){e!==null&&e.before(o)}function C(e,o){var t=o==null?"":typeof o=="object"?o+"":o;t!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=t,e.nodeValue=t+"")}function kr(e,o){return Ir(e,o)}const to=new Map;function Ir(e,{target:o,anchor:t,props:a={},events:r,context:n,intro:u=!0}){cr();var c=new Set,l=d=>{for(var s=0;s<d.length;s++){var m=d[s];if(!c.has(m)){c.add(m);var p=Lr(m);o.addEventListener(m,mo,{passive:p});var $=to.get(m);$===void 0?(document.addEventListener(m,mo,{passive:p}),to.set(m,1)):to.set(m,$+1)}}};l(_t(Sr)),Ut.add(l);var i=void 0,_=pr(()=>{var d=t??o.appendChild(Ko());return ho(()=>{if(n){vt({});var s=M;s.c=n}r&&(a.$$events=r),i=e(d,a)||{},n&&gt()}),()=>{var p;for(var s of c){o.removeEventListener(s,mo);var m=to.get(s);--m===0?(document.removeEventListener(s,mo),to.delete(s)):to.set(s,m)}Ut.delete(l),d!==t&&((p=d.parentNode)==null||p.removeChild(d))}});return Fr.set(i,_),i}let Fr=new WeakMap;function B(e,o,[t,a]=[0,0]){var r=e,n=null,u=null,c=le,l=t>0?pt:0,i=!1;const _=(s,m=!0)=>{i=!0,d(m,s)},d=(s,m)=>{c!==(c=s)&&(c?(n?Io(n):m&&(n=ho(()=>m(r))),u&&ko(u,()=>{u=null})):(u?Io(u):m&&(u=ho(()=>m(r,[t+1,a]))),n&&ko(n,()=>{n=null})))};yt(()=>{i=!1,o(_),i||d(null,null)},l)}function Lo(e,o){return o}function Pr(e,o,t,a){for(var r=[],n=o.length,u=0;u<n;u++)wt(o[u].e,r,!0);var c=n>0&&r.length===0&&t!==null;if(c){var l=t.parentNode;_r(l),l.append(t),a.clear(),Me(e,o[0].prev,o[n-1].next)}pa(r,()=>{for(var i=0;i<n;i++){var _=o[i];c||(a.delete(_.k),Me(e,_.prev,_.next)),je(_.e,!c)}})}function ge(e,o,t,a,r,n=null){var u=e,c={flags:o,items:new Map,first:null},l=(o&oa)!==0;if(l){var i=e;u=i.appendChild(Ko())}var _=null,d=!1,s=vo(()=>{var m=t();return ct(m)?m:m==null?[]:_t(m)});yt(()=>{var m=f(s),p=m.length;d&&p===0||(d=p===0,Br(m,c,u,r,o,a,t),n!==null&&(p===0?_?Io(_):_=ho(()=>n(u)):_!==null&&ko(_,()=>{_=null})),f(s))})}function Br(e,o,t,a,r,n,u){var qe,Pe,xe,Co;var c=(r&er)!==0,l=(r&(ft|mt))!==0,i=e.length,_=o.items,d=o.first,s=d,m,p=null,$,h=[],q=[],F,y,x,w;if(c)for(w=0;w<i;w+=1)F=e[w],y=n(F,w),x=_.get(y),x!==void 0&&((qe=x.a)==null||qe.measure(),($??($=new Set)).add(x));for(w=0;w<i;w+=1){if(F=e[w],y=n(F,w),x=_.get(y),x===void 0){var j=s?s.e.nodes_start:t;p=Mr(j,o,p,p===null?o.first:p.next,F,y,w,a,r,u),_.set(y,p),h=[],q=[],s=p.next;continue}if(l&&Ur(x,F,w,r),(x.e.f&Ie)!==0&&(Io(x.e),c&&((Pe=x.a)==null||Pe.unfix(),($??($=new Set)).delete(x))),x!==s){if(m!==void 0&&m.has(x)){if(h.length<q.length){var J=q[0],P;p=J.prev;var S=h[0],V=h[h.length-1];for(P=0;P<h.length;P+=1)Mt(h[P],J,t);for(P=0;P<q.length;P+=1)m.delete(q[P]);Me(o,S.prev,V.next),Me(o,p,S),Me(o,V,J),s=J,p=V,w-=1,h=[],q=[]}else m.delete(x),Mt(x,s,t),Me(o,x.prev,x.next),Me(o,x,p===null?o.first:p.next),Me(o,p,x),p=x;continue}for(h=[],q=[];s!==null&&s.k!==y;)(s.e.f&Ie)===0&&(m??(m=new Set)).add(s),q.push(s),s=s.next;if(s===null)continue;x=s}h.push(x),p=x,s=x.next}if(s!==null||m!==void 0){for(var H=m===void 0?[]:_t(m);s!==null;)(s.e.f&Ie)===0&&H.push(s),s=s.next;var he=H.length;if(he>0){var Le=(r&oa)!==0&&i===0?t:null;if(c){for(w=0;w<he;w+=1)(xe=H[w].a)==null||xe.measure();for(w=0;w<he;w+=1)(Co=H[w].a)==null||Co.fix()}Pr(o,H,Le,_)}}c&&Et(()=>{var $o;if($!==void 0)for(x of $)($o=x.a)==null||$o.apply()}),I.first=o.first&&o.first.e,I.last=p&&p.e}function Ur(e,o,t,a){(a&ft)!==0&&nt(e.v,o),(a&mt)!==0?nt(e.i,t):e.i=t}function Mr(e,o,t,a,r,n,u,c,l,i){var _=(l&ft)!==0,d=(l&or)===0,s=_?d?de(r):bo(r):r,m=(l&mt)===0?u:bo(u),p={i:m,v:s,k:n,a:null,e:null,prev:t,next:a};try{return p.e=ho(()=>c(e,s,m,i),lr),p.e.prev=t&&t.e,p.e.next=a&&a.e,t===null?o.first=p:(t.next=p,t.e.next=p.e),a!==null&&(a.prev=p,a.e.prev=p.e),p}finally{}}function Mt(e,o,t){for(var a=e.next?e.next.e.nodes_start:t,r=o?o.e.nodes_start:t,n=e.e.nodes_start;n!==a;){var u=Go(n);r.before(n),n=u}}function Me(e,o,t){o===null?e.first=t:(o.next=t,o.e.next=t&&t.e),t!==null&&(t.prev=o,t.e.prev=o&&o.e)}function ha(e){var o,t,a="";if(typeof e=="string"||typeof e=="number")a+=e;else if(typeof e=="object")if(Array.isArray(e)){var r=e.length;for(o=0;o<r;o++)e[o]&&(t=ha(e[o]))&&(a&&(a+=" "),a+=t)}else for(t in e)e[t]&&(a&&(a+=" "),a+=t);return a}function Vr(){for(var e,o,t=0,a="",r=arguments.length;t<r;t++)(e=arguments[t])&&(o=ha(e))&&(a&&(a+=" "),a+=o);return a}function Vt(e){return typeof e=="object"?Vr(e):e??""}function jr(e,o,t){var a=e==null?"":""+e;return a===""?null:a}function jt(e,o,t,a,r,n){var u=e.__className;if(u!==t||u===void 0){var c=jr(t);c==null?e.removeAttribute("class"):e.className=c,e.__className=t}return n}const Hr=Symbol("is custom element"),zr=Symbol("is html");function Ce(e,o,t,a){var r=Kr(e);r[o]!==(r[o]=t)&&(t==null?e.removeAttribute(o):typeof t!="string"&&Gr(e).includes(o)?e[o]=t:e.setAttribute(o,t))}function Kr(e){return e.__attributes??(e.__attributes={[Hr]:e.nodeName.includes("-"),[zr]:e.namespaceURI===nr})}var Ht=new Map;function Gr(e){var o=Ht.get(e.nodeName);if(o)return o;Ht.set(e.nodeName,o=[]);for(var t,a=e,r=Element.prototype;r!==a;){t=Wt(a);for(var n in t)t[n].set&&o.push(n);a=ut(a)}return o}function zt(e,o){return e===o||(e==null?void 0:e[Ye])===o}function Qr(e={},o,t,a){return xt(()=>{var r,n;return Qo(()=>{r=n,n=[],Eo(()=>{e!==t(...n)&&(o(e,...n),r&&zt(t(...r),e)&&o(null,...r))})}),()=>{Et(()=>{n&&zt(t(...n),e)&&o(null,...n)})}}),e}function xa(e=!1){const o=M,t=o.l.u;if(!t)return;let a=()=>De(o.s);if(e){let r=0,n={};const u=bt(()=>{let c=!1;const l=o.s;for(const i in l)l[i]!==n[i]&&(n[i]=l[i],c=!0);return c&&r++,r});a=()=>f(u)}t.b.length&&dr(()=>{Kt(o,a),at(t.b)}),Ft(()=>{const r=Eo(()=>t.m.map(Ua));return()=>{for(const n of r)typeof n=="function"&&n()}}),t.a.length&&Ft(()=>{Kt(o,a),at(t.a)})}function Kt(e,o){if(e.l.s)for(const t of e.l.s)f(t);o()}function ya(e,o,t){if(e==null)return o(void 0),so;const a=Eo(()=>e.subscribe(o,t));return a.unsubscribe?()=>a.unsubscribe():a}const ao=[];function Wr(e,o=so){let t=null;const a=new Set;function r(c){if(Zt(e,c)&&(e=c,t)){const l=!ao.length;for(const i of a)i[1](),ao.push(i,e);if(l){for(let i=0;i<ao.length;i+=2)ao[i][0](ao[i+1]);ao.length=0}}}function n(c){r(c(e))}function u(c,l=so){const i=[c,l];return a.add(i),a.size===1&&(t=o(r,n)||so),c(e),()=>{a.delete(i),a.size===0&&t&&(t(),t=null)}}return{set:r,update:n,subscribe:u}}function Jr(e){let o;return ya(e,t=>o=t)(),o}let qo=!1,lt=Symbol();function Yr(e,o,t){const a=t[o]??(t[o]={store:null,source:de(void 0),unsubscribe:so});if(a.store!==e&&!(lt in t))if(a.unsubscribe(),a.store=e??null,e==null)a.source.v=void 0,a.unsubscribe=so;else{var r=!0;a.unsubscribe=ya(e,n=>{r?a.source.v=n:U(a.source,n)}),r=!1}return e&&lt in t?Jr(e):f(a.source)}function Xr(){const e={};function o(){ht(()=>{for(var t in e)e[t].unsubscribe();Qt(e,lt,{enumerable:!1,value:!0})})}return[e,o]}function Zr(e){var o=qo;try{return qo=!1,[e(),qo]}finally{qo=o}}function en(e,o,t,a){var m;var r=!yo||(t&tr)!==0,n=!1,u;[u,n]=Zr(()=>e[o]);var c=Ye in e||Ha in e;((m=io(e,o))==null?void 0:m.set)??(c&&o in e);var l=a,i=!0,_=()=>(i&&(i=!1,l=a),l),d;if(r)d=()=>{var p=e[o];return p===void 0?_():(i=!0,p)};else{var s=vo(()=>e[o]);s.f|=Va,d=()=>{var p=f(s);return p!==void 0&&(l=void 0),p===void 0?l:p}}return d}const on="5";var Gt;typeof window<"u"&&((Gt=window.__svelte??(window.__svelte={})).v??(Gt.v=new Set)).add(on);Za();const tn={header_arquivo:{codigo_banco_compensacao:{pos:[1,3],tipo:"num"},lote_servico:{pos:[4,7],tipo:"num"},tipo_registro:{pos:[8,8],tipo:"num"},uso_exclusivo_febraban_cnab_1:{pos:[9,17],tipo:"alfa"},tipo_inscricao_empresa:{pos:[18,18],tipo:"num"},numero_inscricao_empresa:{pos:[19,32],tipo:"num"},codigo_convenio_banco:{pos:[33,52],tipo:"alfa"},agencia_mantenedora_conta:{pos:[53,57],tipo:"num"},dv_agencia:{pos:[58,58],tipo:"alfa"},numero_conta_corrente:{pos:[59,70],tipo:"num"},dv_conta:{pos:[71,71],tipo:"alfa"},dv_agencia_conta:{pos:[72,72],tipo:"alfa"},nome_empresa:{pos:[73,102],tipo:"alfa"},nome_banco:{pos:[103,132],tipo:"alfa"},uso_exclusivo_febraban_cnab_2:{pos:[133,142],tipo:"alfa"},codigo_remessa_retorno:{pos:[143,143],tipo:"num"},data_geracao_arquivo:{pos:[144,151],tipo:"data"},hora_geracao_arquivo:{pos:[152,157],tipo:"time"},numero_sequencial_arquivo:{pos:[158,163],tipo:"num"},numero_versao_layout_arquivo:{pos:[164,166],tipo:"num"},densidade_gravacao_arquivo:{pos:[167,171],tipo:"num"},para_uso_reservado_banco:{pos:[172,191],tipo:"alfa"},para_uso_reservado_empresa:{pos:[192,211],tipo:"alfa"},uso_exclusivo_febraban_cnab_3:{pos:[212,240],tipo:"alfa"}},header_lote:{codigo_banco_compensacao:{pos:[1,3],tipo:"num"},lote_servico:{pos:[4,7],tipo:"num"},tipo_registro:{pos:[8,8],tipo:"num"},tipo_operacao:{pos:[9,9],tipo:"alfa"},tipo_servico:{pos:[10,11],tipo:"num"},forma_lancamento:{pos:[12,13],tipo:"num"},numero_versao_layout_lote:{pos:[14,16],tipo:"num"},uso_exclusivo_febraban_cnab_1:{pos:[17,17],tipo:"alfa"},tipo_inscricao_empresa:{pos:[18,18],tipo:"num"},numero_inscricao_empresa:{pos:[19,32],tipo:"num"},codigo_convenio_banco:{pos:[33,52],tipo:"alfa"},agencia_mantenedora_conta:{pos:[53,57],tipo:"num"},dv_agencia:{pos:[58,58],tipo:"alfa"},numero_conta_corrente:{pos:[59,70],tipo:"num"},dv_conta:{pos:[71,71],tipo:"alfa"},dv_agencia_conta:{pos:[72,72],tipo:"alfa"},nome_empresa:{pos:[73,102],tipo:"alfa"},mensagem_1:{pos:[103,142],tipo:"alfa"},endereco_empresa_logradouro:{pos:[143,172],tipo:"alfa"},numero_endereco:{pos:[173,177],tipo:"num"},complemento_endereco:{pos:[178,192],tipo:"alfa"},cidade:{pos:[193,212],tipo:"alfa"},cep:{pos:[213,217],tipo:"num"},complemento_cep:{pos:[218,220],tipo:"alfa"},estado_uf:{pos:[221,222],tipo:"alfa"},indicativo_forma_pagamento:{pos:[223,224],tipo:"num"},uso_exclusivo_febraban_cnab_2:{pos:[225,230],tipo:"alfa"},ocorrencias:{pos:[231,240],tipo:"alfa",retorno:!0}},detalhe_segmento_a:{codigo_banco_compensacao:{pos:[1,3],tipo:"num"},lote_servico:{pos:[4,7],tipo:"num"},tipo_registro:{pos:[8,8],tipo:"num"},numero_sequencial_registro_lote:{pos:[9,13],tipo:"num"},codigo_segmento_registro_detalhe:{pos:[14,14],tipo:"alfa"},tipo_movimento:{pos:[15,15],tipo:"num"},codigo_instrucao_movimento:{pos:[16,17],tipo:"num"},codigo_camara_centralizadora:{pos:[18,20],tipo:"num"},codigo_banco_favorecido:{pos:[21,23],tipo:"num"},agencia_mantenedora_cta_favor:{pos:[24,28],tipo:"num"},dv_agencia_favor:{pos:[29,29],tipo:"alfa"},numero_conta_corrente_favor:{pos:[30,41],tipo:"num"},dv_conta_favor:{pos:[42,42],tipo:"alfa"},dv_agencia_conta_favor:{pos:[43,43],tipo:"alfa"},nome_favorecido:{pos:[44,73],tipo:"alfa"},numero_doc_atrib_empresa:{pos:[74,93],tipo:"alfa"},data_pagamento:{pos:[94,101],tipo:"data"},tipo_moeda:{pos:[102,104],tipo:"alfa"},quantidade_moeda:{pos:[105,119],tipo:"decimal",casas:5},valor_pagamento:{pos:[120,134],tipo:"decimal",casas:2},numero_doc_atrib_banco:{pos:[135,154],tipo:"alfa"},data_real_efetivacao_pagto:{pos:[155,162],tipo:"data"},valor_real_efetivacao_pagto:{pos:[163,177],tipo:"decimal",casas:2},outras_informacoes:{pos:[178,217],tipo:"alfa"},compl_tipo_servico:{pos:[218,219],tipo:"alfa"},codigo_finalidade_ted:{pos:[220,224],tipo:"alfa"},compl_finalidade_pagto:{pos:[225,226],tipo:"alfa"},uso_exclusivo_febraban_cnab_seg_a:{pos:[227,229],tipo:"alfa"},aviso_ao_favorecido:{pos:[230,230],tipo:"num"},ocorrencias_retorno:{pos:[231,240],tipo:"alfa"}},detalhe_segmento_j:{},detalhe_segmento_j52:{},trailer_lote:{codigo_banco_compensacao:{pos:[1,3],tipo:"num"},lote_servico:{pos:[4,7],tipo:"num"},tipo_registro:{pos:[8,8],tipo:"num"},uso_exclusivo_febraban_cnab_1:{pos:[9,17],tipo:"alfa"},quantidade_registros_lote:{pos:[18,23],tipo:"num"},somatoria_valores:{pos:[24,41],tipo:"decimal",casas:2},somatoria_quantidade_moedas:{pos:[42,59],tipo:"decimal",casas:5},numero_aviso_debito:{pos:[60,65],tipo:"num"},uso_exclusivo_febraban_cnab_2:{pos:[66,230],tipo:"alfa"},ocorrencias:{pos:[231,240],tipo:"alfa",retorno:!0}},trailer_arquivo:{codigo_banco_compensacao:{pos:[1,3],tipo:"num"},lote_servico:{pos:[4,7],tipo:"num"},tipo_registro:{pos:[8,8],tipo:"num"},uso_exclusivo_febraban_cnab_1:{pos:[9,17],tipo:"alfa"},quantidade_lotes_arquivo:{pos:[18,23],tipo:"num"},quantidade_registros_arquivo:{pos:[24,29],tipo:"num"},qtde_contas_concil_lotes:{pos:[30,35],tipo:"num"},uso_exclusivo_febraban_cnab_2:{pos:[36,240],tipo:"alfa"}}},an={header_arquivo:{codigo_banco:{pos:[1,3],tipo:"num"},lote_servico:{pos:[4,7],tipo:"num"},tipo_registro:{pos:[8,8],tipo:"num"},filler_009_014:{pos:[9,14],tipo:"alfa"},layout_arquivo:{pos:[15,17],tipo:"num"},tipo_inscricao:{pos:[18,18],tipo:"num"},numero_inscricao:{pos:[19,32],tipo:"num"},filler_033_052:{pos:[33,52],tipo:"alfa"},agencia:{pos:[53,57],tipo:"num"},filler_058_058:{pos:[58,58],tipo:"alfa"},conta:{pos:[59,70],tipo:"num"},filler_071_071:{pos:[71,71],tipo:"alfa"},dac:{pos:[72,72],tipo:"num"},nome_empresa:{pos:[73,102],tipo:"alfa"},nome_banco:{pos:[103,132],tipo:"alfa"},filler_133_142:{pos:[133,142],tipo:"alfa"},codigo_remessa_retorno:{pos:[143,143],tipo:"num"},data_geracao:{pos:[144,151],tipo:"data"},hora_geracao:{pos:[152,157],tipo:"time"},filler_zeros_158_166:{pos:[158,166],tipo:"num"},densidade_gravacao:{pos:[167,171],tipo:"num"},uso_empresa_docto:{pos:[172,240],tipo:"alfa"}},header_lote_cheque_etc:{codigo_banco:{pos:[1,3],tipo:"num"},lote_servico:{pos:[4,7],tipo:"num"},tipo_registro:{pos:[8,8],tipo:"num"},tipo_operacao:{pos:[9,9],tipo:"alfa"},tipo_servico:{pos:[10,11],tipo:"num"},forma_pagamento:{pos:[12,13],tipo:"num"},layout_lote:{pos:[14,16],tipo:"num"},filler_017_017:{pos:[17,17],tipo:"alfa"},tipo_inscricao:{pos:[18,18],tipo:"num"},numero_inscricao:{pos:[19,32],tipo:"num"},identificacao_lancamento_favorecido:{pos:[33,36],tipo:"alfa"},filler_037_052:{pos:[37,52],tipo:"alfa"},agencia:{pos:[53,57],tipo:"num"},filler_058_058:{pos:[58,58],tipo:"alfa"},conta:{pos:[59,70],tipo:"num"},filler_071_071:{pos:[71,71],tipo:"alfa"},dac:{pos:[72,72],tipo:"num"},nome_empresa:{pos:[73,102],tipo:"alfa"},finalidade_lote:{pos:[103,132],tipo:"alfa"},historico_cc:{pos:[133,142],tipo:"alfa"},endereco_empresa:{pos:[143,172],tipo:"alfa"},numero_endereco:{pos:[173,177],tipo:"num"},complemento_endereco:{pos:[178,192],tipo:"alfa"},cidade:{pos:[193,212],tipo:"alfa"},cep:{pos:[213,220],tipo:"num"},estado:{pos:[221,222],tipo:"alfa"},filler_223_230:{pos:[223,230],tipo:"alfa"},ocorrencias:{pos:[231,240],tipo:"alfa"}},detalhe_segmento_a_cheque_etc:{codigo_banco:{pos:[1,3],tipo:"num"},lote_servico:{pos:[4,7],tipo:"num"},tipo_registro:{pos:[8,8],tipo:"num"},numero_registro:{pos:[9,13],tipo:"num"},segmento:{pos:[14,14],tipo:"alfa"},tipo_movimento:{pos:[15,17],tipo:"num"},codigo_camara:{pos:[18,20],tipo:"num"},codigo_banco_favorecido:{pos:[21,23],tipo:"num"},agencia_conta_favorecido:{pos:[24,43],tipo:"alfa"},nome_favorecido:{pos:[44,73],tipo:"alfa"},seu_numero:{pos:[74,93],tipo:"alfa"},data_pagto:{pos:[94,101],tipo:"data"},moeda_tipo:{pos:[102,104],tipo:"alfa"},codigo_ispb:{pos:[105,112],tipo:"num"},identif_tx_pix:{pos:[113,114],tipo:"alfa"},filler_zeros_115_119:{pos:[115,119],tipo:"num"},valor_pagto:{pos:[120,134],tipo:"decimal",casas:2},nosso_numero:{pos:[135,149],tipo:"alfa"},filler_brancos_150_154:{pos:[150,154],tipo:"alfa"},data_efetiva:{pos:[155,162],tipo:"data"},valor_efetivo:{pos:[163,177],tipo:"decimal",casas:2},finalidade_detalhe:{pos:[178,197],tipo:"alfa"},num_doc_retorno:{pos:[198,203],tipo:"num"},num_inscricao_favorecido:{pos:[204,217],tipo:"num"},finalidade_doc_status_funcionario:{pos:[218,219],tipo:"alfa"},finalidade_ted:{pos:[220,224],tipo:"alfa"},filler_brancos_225_229:{pos:[225,229],tipo:"alfa"},aviso:{pos:[230,230],tipo:"alfa"},ocorrencias:{pos:[231,240],tipo:"alfa"}},detalhe_segmento_b_cheque_etc:{codigo_banco:{pos:[1,3],tipo:"num"},lote_servico:{pos:[4,7],tipo:"num"},tipo_registro:{pos:[8,8],tipo:"num"},numero_registro:{pos:[9,13],tipo:"num"},segmento:{pos:[14,14],tipo:"alfa"},filler_brancos_015_017:{pos:[15,17],tipo:"alfa"},tipo_inscricao_favorecido:{pos:[18,18],tipo:"num"},numero_inscricao_favorecido:{pos:[19,32],tipo:"num"},endereco_favorecido:{pos:[33,62],tipo:"alfa"},numero_endereco_favorecido:{pos:[63,67],tipo:"num"},complemento_endereco_favorecido:{pos:[68,82],tipo:"alfa"},bairro_favorecido:{pos:[83,97],tipo:"alfa"},cidade_favorecido:{pos:[98,117],tipo:"alfa"},cep_favorecido:{pos:[118,125],tipo:"num"},estado_favorecido:{pos:[126,127],tipo:"alfa"},email_favorecido:{pos:[128,227],tipo:"alfa"},filler_brancos_228_230:{pos:[228,230],tipo:"alfa"},ocorrencias:{pos:[231,240],tipo:"alfa"}},detalhe_segmento_b_pix:{codigo_banco:{pos:[1,3],tipo:"num"},lote_servico:{pos:[4,7],tipo:"num"},tipo_registro:{pos:[8,8],tipo:"num"},numero_registro:{pos:[9,13],tipo:"num"},segmento:{pos:[14,14],tipo:"alfa"},tipo_chave:{pos:[15,16],tipo:"alfa"},filler_brancos_017_017:{pos:[17,17],tipo:"alfa"},tipo_inscricao_favorecido:{pos:[18,18],tipo:"num"},numero_inscricao_favorecido:{pos:[19,32],tipo:"num"},info_entre_usuarios:{pos:[63,127],tipo:"alfa"},chave_pix:{pos:[128,227],tipo:"alfa"},filler_brancos_228_230:{pos:[228,230],tipo:"alfa"},ocorrencias:{pos:[231,240],tipo:"alfa"}},detalhe_segmento_c_cheque_etc:{codigo_banco:{pos:[1,3],tipo:"num"},lote_servico:{pos:[4,7],tipo:"num"},tipo_registro:{pos:[8,8],tipo:"num"},numero_registro:{pos:[9,13],tipo:"num"},segmento:{pos:[14,14],tipo:"alfa"},valor_csll:{pos:[15,29],tipo:"decimal",casas:2},filler_brancos_030_037:{pos:[30,37],tipo:"alfa"},vencimento:{pos:[38,45],tipo:"data"},valor_documento:{pos:[46,60],tipo:"decimal",casas:2},valor_pis:{pos:[61,75],tipo:"decimal",casas:2},valor_ir:{pos:[76,90],tipo:"decimal",casas:2},valor_iss:{pos:[91,105],tipo:"decimal",casas:2},valor_cofins:{pos:[106,120],tipo:"decimal",casas:2},desconto:{pos:[121,135],tipo:"decimal",casas:2},abatimento:{pos:[136,150],tipo:"decimal",casas:2},outras_deducoes:{pos:[151,165],tipo:"decimal",casas:2},mora:{pos:[166,180],tipo:"decimal",casas:2},multa:{pos:[181,195],tipo:"decimal",casas:2},outros_acrescimos:{pos:[196,210],tipo:"decimal",casas:2},fatura_documento:{pos:[211,230],tipo:"alfa"},filler_brancos_231_240:{pos:[231,240],tipo:"alfa"}},detalhe_segmento_d_salario:{codigo_banco:{pos:[1,3],tipo:"num"},lote_servico:{pos:[4,7],tipo:"num"},tipo_registro:{pos:[8,8],tipo:"num"},segmento:{pos:[14,14],tipo:"alfa"},filler_brancos_015_017:{pos:[15,17],tipo:"alfa"},periodo_competencia:{pos:[18,23],tipo:"data"},centro_custro:{pos:[24,38],tipo:"alfa"},codigo_funcionario:{pos:[39,53],tipo:"alfa"},cargo_funcionario:{pos:[54,83],tipo:"alfa"},periodo_ferias_de:{pos:[84,91],tipo:"data"},periodo_ferias_ate:{pos:[92,99],tipo:"data"},quantidade_dependentes_imp_renda:{pos:[100,101],tipo:"num"},quantidade_dependentes_sal_familia:{pos:[102,103],tipo:"num"},horas_semanais:{pos:[104,105],tipo:"num"},salario_contribuicao:{pos:[106,120],tipo:"decimal",casas:2},fgts:{pos:[121,135],tipo:"decimal",casas:2},valor_total_creditos:{pos:[136,150],tipo:"decimal",casas:2},valor_total_debito:{pos:[151,165],tipo:"decimal",casas:2},valor_total_liquido:{pos:[166,180],tipo:"decimal",casas:2},valor_salario_fixo:{pos:[181,195],tipo:"decimal",casas:2},valor_base_irrf:{pos:[196,210],tipo:"decimal",casas:2},disponibilizacao_holerite:{pos:[226,227],tipo:"alfa"},filler_brancos_228_230:{pos:[228,230],tipo:"alfa"},ocorrencias:{pos:[231,240],tipo:"alfa"}},detalhe_segmento_e_salario:{},detalhe_segmento_f_salario:{},detalhe_segmento_z_cheque_etc:{codigo_banco:{pos:[1,3],tipo:"num"},lote_servico:{pos:[4,7],tipo:"num"},tipo_registro:{pos:[8,8],tipo:"num"},numero_registro:{pos:[9,13],tipo:"num"},segmento:{pos:[14,14],tipo:"alfa"},autenticacao:{pos:[15,78],tipo:"alfa"},seu_numero_z:{pos:[79,98],tipo:"alfa"},filler_brancos_099_103:{pos:[99,103],tipo:"alfa"},nosso_numero_z:{pos:[104,118],tipo:"alfa"},filler_brancos_119_240:{pos:[119,240],tipo:"alfa"}},trailer_lote_cheque_etc:{codigo_banco:{pos:[1,3],tipo:"num"},lote_servico:{pos:[4,7],tipo:"num"},tipo_registro:{pos:[8,8],tipo:"num"},filler_brancos_009_017:{pos:[9,17],tipo:"alfa"},total_qtde_registros:{pos:[18,23],tipo:"num"},total_valor_pagtos:{pos:[24,41],tipo:"decimal",casas:2},filler_zeros_042_059:{pos:[42,59],tipo:"num"},filler_brancos_060_230:{pos:[60,230],tipo:"alfa"},ocorrencias:{pos:[231,240],tipo:"alfa"}},header_lote_boleto_pixqr:{codigo_banco:{pos:[1,3],tipo:"num"},lote_servico:{pos:[4,7],tipo:"num"},tipo_registro:{pos:[8,8],tipo:"num"},tipo_operacao:{pos:[9,9],tipo:"alfa"},tipo_servico:{pos:[10,11],tipo:"num"},forma_pagamento:{pos:[12,13],tipo:"num"},layout_lote:{pos:[14,16],tipo:"num"},filler_017_017:{pos:[17,17],tipo:"alfa"},tipo_inscricao:{pos:[18,18],tipo:"num"},numero_inscricao:{pos:[19,32],tipo:"num"},filler_032_052:{pos:[32,52],tipo:"alfa"},agencia:{pos:[53,57],tipo:"num"},filler_058_058:{pos:[58,58],tipo:"alfa"},conta:{pos:[59,70],tipo:"num"},filler_071_071:{pos:[71,71],tipo:"alfa"},dac:{pos:[72,72],tipo:"num"},nome_empresa:{pos:[73,102],tipo:"alfa"},finalidade_lote:{pos:[103,132],tipo:"alfa"},historico_cc:{pos:[133,142],tipo:"alfa"},endereco_empresa:{pos:[143,172],tipo:"alfa"},numero_endereco:{pos:[173,177],tipo:"num"},complemento_endereco:{pos:[178,192],tipo:"alfa"},cidade:{pos:[193,212],tipo:"alfa"},cep:{pos:[213,220],tipo:"num"},estado:{pos:[221,222],tipo:"alfa"},filler_223_230:{pos:[223,230],tipo:"alfa"},ocorrencias:{pos:[231,240],tipo:"alfa"}},detalhe_segmento_j_boleto_pixqr:{codigo_banco:{pos:[1,3],tipo:"num"},lote_servico:{pos:[4,7],tipo:"num"},tipo_registro:{pos:[8,8],tipo:"num"},numero_registro:{pos:[9,13],tipo:"num"},segmento:{pos:[14,14],tipo:"alfa"},tipo_movimento:{pos:[15,17],tipo:"num"},cod_barras_banco_fav:{pos:[18,20],tipo:"num"},cod_barras_moeda:{pos:[21,21],tipo:"num"},cod_barras_dv:{pos:[22,22],tipo:"num"},cod_barras_fator_venc:{pos:[23,26],tipo:"num"},cod_barras_valor:{pos:[27,36],tipo:"decimal",casas:2},cod_barras_campo_livre:{pos:[37,61],tipo:"num"},nome_favorecido:{pos:[62,91],tipo:"alfa"},data_vencto_nominal:{pos:[92,99],tipo:"data"},valor_titulo_nominal:{pos:[100,114],tipo:"decimal",casas:2},valor_desconto_abatimento:{pos:[115,129],tipo:"decimal",casas:2},valor_mora_multa:{pos:[130,144],tipo:"decimal",casas:2},data_pagamento:{pos:[145,152],tipo:"data"},valor_pagamento:{pos:[153,167],tipo:"decimal",casas:2},filler_zeros_168_182:{pos:[168,182],tipo:"num"},seu_numero:{pos:[183,202],tipo:"alfa"},filler_brancos_203_215:{pos:[203,215],tipo:"alfa"},nosso_numero:{pos:[216,230],tipo:"alfa"},ocorrencias:{pos:[231,240],tipo:"alfa"}},detalhe_segmento_j52_boleto_pixqr:{codigo_banco:{pos:[1,3],tipo:"num"},lote_servico:{pos:[4,7],tipo:"num"},tipo_registro:{pos:[8,8],tipo:"num"},numero_registro:{pos:[9,13],tipo:"num"},segmento:{pos:[14,14],tipo:"alfa"},tipo_movimento:{pos:[15,17],tipo:"num"},codigo_registro_opcional:{pos:[18,19],tipo:"num"},tipo_inscricao_sacado:{pos:[20,20],tipo:"num"},numero_inscricao_sacado:{pos:[21,35],tipo:"num"},nome_sacado:{pos:[36,75],tipo:"alfa"},tipo_inscricao_cedente:{pos:[76,76],tipo:"num"},numero_inscricao_cedente:{pos:[77,91],tipo:"num"},nome_cedente:{pos:[92,131],tipo:"alfa"},tipo_inscricao_sacador_avalista:{pos:[132,132],tipo:"num"},numero_inscricao_sacador_avalista:{pos:[133,147],tipo:"num"},nome_sacador_avalista:{pos:[148,187],tipo:"alfa"},filler_brancos_188_240:{pos:[188,240],tipo:"alfa"}},detalhe_segmento_j52_pix:{},detalhe_segmento_b_boleto_pixqr:{},detalhe_segmento_c_boleto_pixqr:{},detalhe_segmento_z_boleto_pixqr:{},trailer_lote_boleto_pixqr:{},header_lote_concessionaria_cb:{},detalhe_segmento_o_concessionaria_cb:{},detalhe_segmento_z_concessionaria_cb:{},trailer_lote_concessionaria_cb:{},header_lote_tributo_sb_fgts:{},detalhe_segmento_n_tributo_sb_fgts:{},detalhe_segmento_b_tributo_sb_fgts:{},detalhe_segmento_w_gare:{},detalhe_segmento_z_tributo_sb_fgts:{},trailer_lote_tributo_sb_fgts:{},trailer_arquivo:{codigo_banco:{pos:[1,3],tipo:"num"},lote_servico:{pos:[4,7],tipo:"num"},tipo_registro:{pos:[8,8],tipo:"num"},filler_brancos_009_017:{pos:[9,17],tipo:"alfa"},quantidade_lotes_arquivo:{pos:[18,23],tipo:"num"},quantidade_registros_arquivo:{pos:[24,29],tipo:"num"},filler_brancos_030_240:{pos:[30,240],tipo:"alfa"}}};var xo,Je,ke,Vo,ee,wa,Ea,Ca,$a,no;class rn{constructor(){oo(this,ee);oo(this,xo,{"001":"Banco do Brasil","033":"Santander",104:"Caixa Econômica Federal",237:"Bradesco",341:"Itaú",756:"Sicoob",748:"Sicredi"});oo(this,Je,{});oo(this,ke,{CHEQUE_ETC:{header:"header_lote_cheque_etc",trailer:"trailer_lote_cheque_etc",segments:{A:"detalhe_segmento_a_cheque_etc",B:"detalhe_segmento_b_cheque_etc",C:"detalhe_segmento_c_cheque_etc",D:"detalhe_segmento_d_salario",E:"detalhe_segmento_e_salario",F:"detalhe_segmento_f_salario",Z:"detalhe_segmento_z_cheque_etc",J:"detalhe_segmento_j_boleto_pixqr",J52:"detalhe_segmento_j52_boleto_pixqr"}},BOLETO_PIXQR:{header:"header_lote_boleto_pixqr",trailer:"trailer_lote_boleto_pixqr",segments:{J:"detalhe_segmento_j_boleto_pixqr",J52:"detalhe_segmento_j52_boleto_pixqr",B:"detalhe_segmento_b_boleto_pixqr",C:"detalhe_segmento_c_boleto_pixqr",Z:"detalhe_segmento_z_boleto_pixqr"}},CONCESSIONARIA_CB:{header:"header_lote_concessionaria_cb",trailer:"trailer_lote_concessionaria_cb",segments:{O:"detalhe_segmento_o_concessionaria_cb",Z:"detalhe_segmento_z_concessionaria_cb"}},TRIBUTO_SB_FGTS:{header:"header_lote_tributo_sb_fgts",trailer:"trailer_lote_tributo_sb_fgts",segments:{N:"detalhe_segmento_n_tributo_sb_fgts",B:"detalhe_segmento_b_tributo_sb_fgts",W:"detalhe_segmento_w_gare",Z:"detalhe_segmento_z_tributo_sb_fgts"}}});oo(this,Vo,{10:"CHEQUE_ETC",20:"CHEQUE_ETC",25:"CHEQUE_ETC",30:"CHEQUE_ETC",50:"CHEQUE_ETC",60:"CHEQUE_ETC",70:"CHEQUE_ETC",75:"CHEQUE_ETC",80:"CHEQUE_ETC",90:"CHEQUE_ETC",98:"CHEQUE_ETC","03":"BOLETO_PIXQR","04":"BOLETO_PIXQR",47:"BOLETO_PIXQR",13:"CONCESSIONARIA_CB",91:"CONCESSIONARIA_CB",16:"TRIBUTO_SB_FGTS",17:"TRIBUTO_SB_FGTS",18:"TRIBUTO_SB_FGTS",22:"TRIBUTO_SB_FGTS",35:"TRIBUTO_SB_FGTS",95:"TRIBUTO_SB_FGTS"});we(this,ee,wa).call(this)}parse(o){if(!o||typeof o!="string")throw new Error("Conteúdo de arquivo inválido fornecido. Esperado uma string não vazia.");const t=we(this,ee,Ea).call(this,o),a=t.substring(0,3);if(!se(this,xo)[a])throw new Error(`Código de banco não suportado: ${a}`);const r=se(this,Je)[a]||se(this,Je).default;if(!r)throw new Error(`Layout não encontrado para o código de banco: ${a}`);const n=se(this,xo)[a],u=we(this,ee,Ca).call(this,t),c=t.split(u);let l;u===`\r
`?l="CRLF (Windows)":u===`
`?l="LF (Unix)":u==="\r"?l="CR (Old Mac)":l="Desconhecido";const i={bank_code:a,bank_name:n,header_arquivo:null,lotes:{},trailer_arquivo:null,warnings:[],errors:[],file_info:{total_lines_read:c.length,non_empty_lines:0,detected_line_ending:l},lote_service_types:{}};let _=null,d=null,s=null,m=0;return c.forEach((p,$)=>{const h=$+1;if(i.file_info.non_empty_lines++,p.length===240)try{const q=p.substring(7,8),F=p.substring(3,7);switch(q){case"0":{i.header_arquivo=we(this,ee,no).call(this,p,h,"header_arquivo",r,"Header Arq",i);break}case"1":{_=parseInt(F,10),(isNaN(_)||_<=0)&&(i.warnings.push(`Linha ${h}: Número de Lote inválido '${F}' no Header de Lote.`),_=`invalid_${F||"empty"}`);const y=p.substring(9,11);d=se(this,Vo)[y]||"UNKNOWN",i.lote_service_types[_]=d;let x="header_lote";if(d!=="UNKNOWN"&&se(this,ke)[d])x=se(this,ke)[d].header;else{i.warnings.push(`Linha ${h}: Tipo de Serviço '${y}' no Header Lote ${_} não mapeado ou layout de header específico não definido.`);const w=Object.keys(r).find(j=>j.startsWith("header_lote"));if(w)x=w,i.warnings.push(`Usando layout de header fallback: ${x}`);else{i.errors.push(`Linha ${h}: Nenhum layout de Header de Lote encontrado.`);break}}if(i.lotes[_]?i.warnings.push(`Linha ${h}: Header duplicado para Lote ${_}.`):i.lotes[_]={header_lote:null,detalhes_agrupados:[],trailer_lote:null,_startLine:h,_serviceTypeKey:d},!r[x]){i.errors.push(`Linha ${h}: Layout '${x}' não encontrado no objeto de layout do banco.`);break}i.lotes[_].header_lote=we(this,ee,no).call(this,p,h,x,r,`Header Lote ${_} (${d})`,i),m=0,s=null;break}case"3":{if(_===null||!i.lotes[_]){i.errors.push(`Linha ${h}: Segmento Detalhe encontrado fora de um Lote válido.`);break}const y=p.substring(13,14).toUpperCase();let x="";y==="J"&&(x=p.substring(17,19));const w=i.lotes[_]._serviceTypeKey;let j=null,J=`segmento_${y.toLowerCase()}`,P=y;if(y==="J"&&x==="52"&&(P="J52",J="segmento_j52"),w&&w!=="UNKNOWN"&&se(this,ke)[w]){const H=se(this,ke)[w].segments;j=H?H[P]:null}if(!j||!r[j]){const H=`detalhe_segmento_${y.toLowerCase()}`;if(r[H])j=H,i.warnings.push(`Linha ${h}: Layout específico para Segmento '${y}' (Serviço: ${w}) não encontrado ou definido. Usando layout base '${j}'.`);else{i.warnings.push(`Linha ${h}: Definição de layout faltando para Segmento '${y}' (Serviço: ${w}). Layout base '${H}' também não encontrado. Pulando linha.`);break}}const S=we(this,ee,no).call(this,p,h,j,r,`Segmento ${y} (Lote ${_})`,i);["A","J","N","O","P"].includes(y)&&P===y?(s={[J]:S},i.lotes[_].detalhes_agrupados[m]=s,m++):s?s[J]=S:(i.warnings.push(`Linha ${h}: Segmento '${y}' encontrado fora de sequência esperada. Colocando em novo grupo.`),s={[J]:S,_incomplete_group:!0},i.lotes[_].detalhes_agrupados[m]=s,m++,s=null);break}case"5":{if(_===null||!i.lotes[_]){i.errors.push(`Linha ${h}: Trailer de Lote encontrado fora de um Lote válido.`);break}const y=i.lotes[_]._serviceTypeKey;let x="trailer_lote";if(y&&y!=="UNKNOWN"&&se(this,ke)[y])x=se(this,ke)[y].trailer;else{i.warnings.push(`Linha ${h}: Tipo de Serviço '${y}' no Trailer de Lote ${_} não mapeado ou layout de trailer específico não definido.`);const P=Object.keys(r).find(S=>S.startsWith("trailer_lote"));if(P)x=P,i.warnings.push(`Usando layout de trailer fallback: ${x}`);else{i.errors.push(`Linha ${h}: Nenhum layout de Trailer de Lote (específico ou base) encontrado.`);break}}if(!r[x]){i.errors.push(`Linha ${h}: Layout '${x}' (determinado para Tipo Serviço '${y}') não encontrado no objeto de layout do banco.`);break}i.lotes[_].trailer_lote&&i.warnings.push(`Linha ${h}: Trailer duplicado para Lote ${_}.`),i.lotes[_].trailer_lote=we(this,ee,no).call(this,p,h,x,r,`Trailer Lote ${_} (${y})`,i),i.lotes[_]._endLine=h;const w=i.lotes[_],j=(w.detalhes_agrupados||[]).reduce((P,S)=>P+Object.keys(S).filter(V=>!V.startsWith("_")).length,0)+2,J=parseInt(w.trailer_lote.quantidade_registros,10);!isNaN(J)&&J!==j&&i.warnings.push(`Lote ${_}: Divergência na contagem de registros. Trailer informa ${J}, encontrados ${j}.`),_=null,s=null,d=null;break}case"9":{i.trailer_arquivo=we(this,ee,no).call(this,p,h,"trailer_arquivo",r,"Trailer Arq",i);const y=Object.keys(i.lotes).filter(j=>!j.startsWith("invalid_")).length,x=parseInt(i.trailer_arquivo.quantidade_lotes_arquivo,10);!isNaN(x)&&x!==y&&i.warnings.push(`Trailer Arquivo (Linha ${h}): Divergência na contagem de lotes. Trailer informa ${x}, encontrados ${y}.`);const w=parseInt(i.trailer_arquivo.quantidade_registros_arquivo,10);!isNaN(w)&&w!==i.file_info.non_empty_lines&&i.warnings.push(`Trailer Arquivo (Linha ${h}): Divergência na contagem total de registros. Trailer informa ${w}, linhas não vazias processadas ${i.file_info.non_empty_lines}.`);break}default:i.warnings.push(`Linha ${h}: Tipo de Registro desconhecido '${q}'.`),i.unknown_lines||(i.unknown_lines=[]),i.unknown_lines.push({lineNumber:h,content:p})}}catch(q){const F=`Erro processando linha ${h}: ${q.message}`;i.errors.push(F),console.error(F,q)}}),_!==null&&i.lotes[_]&&!i.lotes[_].trailer_lote&&i.warnings.push(`Arquivo finalizado, mas o Lote ${_} está sem Trailer (Registro 5).`),i.header_arquivo||i.errors.push("Header de Arquivo (Registro 0) não encontrado."),i.trailer_arquivo||i.errors.push("Trailer de Arquivo (Registro 9) não encontrado."),i}}xo=new WeakMap,Je=new WeakMap,ke=new WeakMap,Vo=new WeakMap,ee=new WeakSet,wa=function(){se(this,Je).default=tn,se(this,Je)[341]=an},Ea=function(o){return o.charCodeAt(0)===239&&o.charCodeAt(1)===187&&o.charCodeAt(2)===191?o.substring(3):o},Ca=function(o){return o.includes(`\r
`)?`\r
`:o.includes(`
`)?`
`:o.includes("\r")?"\r":`
`},$a=function(o,t,a){if(!a||!a[t]){const c=RegExp(/^detalhe_segmento_([a-z0-9]+)$/i).exec(t);if(c){const l=c[1].toUpperCase();if(a[`detalhe_segmento_${l}`])t=`detalhe_segmento_${l}`;else throw new Error(`Definição de layout não encontrada para o tipo de registro: ${t} ou segmento base ${l}`)}else throw new Error(`Definição de layout não encontrada para o tipo de registro: ${t}`)}const r=a[t],n={},u=[];n._linha_original=o;for(const c in r){const l=r[c],i=l.pos[0]-1,_=l.pos[1];let d="";i>=0&&_<=o.length?d=o.substring(i,_):console.warn(`Campo '${c}' posição [${l.pos[0]}, ${l.pos[1]}] fora dos limites para linha de tamanho ${o.length}. Tipo de registro: ${t}`);const s=d;let m;try{switch(l.tipo){case"num":m=d.replace(/^0+/,"")||"0";break;case"decimal":{const p=l.casas??2,$=Math.pow(10,p);let h=d.replace(/^0+/,"")||"0";/^\d+$/.test(h.trim())?m=(parseFloat(h)/$).toFixed(p):(u.push(`Campo '${c}': Conteúdo não numérico ('${s}') encontrado em campo definido como 'decimal'.`),m=s);break}case"data":{const p=_-i;if(d&&d.length===p&&d!=="0".repeat(p)){const $=d.substring(0,2),h=d.substring(2,4),q=d.substring(4,8);/^\d+$/.test($)&&/^\d+$/.test(h)&&/^\d+$/.test(q)?m=`${$}/${h}/${q}`:(u.push(`Campo '${c}': Conteúdo não numérico ('${s}') encontrado em campo definido como 'data'.`),m=s)}else m=null;break}case"time":{const p=_-i;if(d&&d.length===p&&d!=="0".repeat(p)){const $=d.substring(0,2),h=d.substring(2,4),q=d.substring(4,6);/^\d+$/.test($)&&/^\d+$/.test(h)&&/^\d+$/.test(q)?m=`${$}:${h}:${q}`:(u.push(`Campo '${c}': Conteúdo não numérico ('${s}') encontrado em campo definido como 'time'.`),m=s)}else m=null;break}case"alfa":default:m=d;break}}catch(p){console.error(`Erro formatando campo '${c}' com valor '${s}' e tipo '${l.tipo}':`,p),u.push(`Campo '${c}': Erro inesperado durante formatação do valor '${s}' (Tipo: ${l.tipo}).`),m=s}n[c]=m,n[`${c}_original`]=s}return{data:n,warnings:u}},no=function(o,t,a,r,n,u){const c=we(this,ee,$a).call(this,o,a,r),l=c.data;return l._lineNumber=t,c.warnings.length>0&&u.warnings.push(...c.warnings.map(i=>`Linha ${t} (${n}): ${i}`)),l};const nn=()=>{const{subscribe:e,set:o,update:t}=Wr({fileName:null,status:"idle",error:null,parsedResult:null}),a=new rn;return{subscribe:e,processCnabFile:async u=>{if(!u)return;t(l=>({...l,fileName:u.name,status:"loading",error:null,parsedResult:null}));const c=new FileReader;c.onload=l=>{try{const i=l.target.result;if(!i)throw new Error("O arquivo não contém nenhum dado ou não pode ser lido.");const _=a.parse(i);t(d=>{var s,m;return{...d,status:((s=_.errors)==null?void 0:s.length)>0?"error":"success",parsedResult:_,error:((m=_.errors)==null?void 0:m.length)>0?`Foi encontrado ${_.errors.length} erro(s) critícos durante o processamento. Verifique os detalhes.`:null}})}catch(i){console.error("Erro processando arquivo CNAB: ",i),t(_=>({..._,status:"error",error:`Processing error: ${i.message}`,parsedResult:null}))}},c.onerror=l=>{console.error("Erro lendo o arquivo: ",c.error),t(i=>{var _;return{...i,status:"error",error:`Erro ao ler o arquivo: ${((_=c.error)==null?void 0:_.message)||"Erro desconhecido de leitura"}`,parsedResult:null}})},c.readAsText(u,"ISO-8859-1")},reset:()=>{o({fileName:null,status:"idle",error:null,parsedResult:null})}}},tt=nn(),sn={codigo_banco:"Código do Banco",nome_banco:"Nome do Banco",lote_servico:"Lote de Serviço",tipo_registro:"Tipo de Registro",numero_registro:"Número do Registro",segmento:"Segmento",tipo_inscricao:"Tipo Inscrição",numero_inscricao:"Número Inscrição",nome_empresa:"Nome da Empresa",agencia:"Agência",digito_agencia:"Dígito Agência",conta:"Conta",digito_conta:"Dígito Conta",digito_ag_conta:"Dígito Ag/Conta",codigo_convenio:"Código Convênio",ocorrencias:"Ocorrências",quantidade_registros:"Qtd. Registros",quantidade_lotes:"Qtd. Lotes",quantidade_contas_conciliadas:"Qtd. Contas Concil.",somatoria_valores:"Somatória Valores",somatoria_quantidade_moedas:"Somatória Qtd. Moedas",valor:"Valor",data_pagamento:"Data Pagamento",data_vencimento:"Data Vencimento",valor_pagamento:"Valor Pagamento",valor_titulo:"Valor Título",nosso_numero:"Nosso Número",numero_documento:"Número Documento",codigo_movimento:"Código Movimento",tipo_movimento:"Tipo Movimento",nome_favorecido:"Nome Favorecido",nome_pagador:"Nome Pagador",nome_beneficiario:"Nome Beneficiário",nome_sacador:"Nome Sacador/Avalista",tipo_inscricao_favorecido:"Tipo Inscrição Favorecido",numero_inscricao_favorecido:"Número Inscrição Favorecido",tipo_inscricao_pagador:"Tipo Inscrição Pagador",numero_inscricao_pagador:"Número Inscrição Pagador",tipo_inscricao_beneficiario:"Tipo Inscrição Beneficiário",numero_inscricao_beneficiario:"Número Inscrição Beneficiário",tipo_inscricao_sacador:"Tipo Inscrição Sacador/Avalista",numero_inscricao_sacador:"Número Inscrição Sacador/Avalista",logradouro:"Logradouro",numero:"Número End.",complemento:"Complemento End.",bairro:"Bairro",cidade:"Cidade",estado:"UF",cep:"CEP",complemento_cep:"Compl. CEP",endereco_logradouro:"Logradouro Fav.",endereco_numero:"Número End. Fav.",endereco_complemento:"Complemento End. Fav.",endereco_bairro:"Bairro Fav.",endereco_cidade:"Cidade Fav.",endereco_cep:"CEP Fav.",endereco_complemento_cep:"Compl. CEP Fav.",endereco_estado:"UF Fav.",valor_desconto:"Valor Desconto",valor_multa:"Valor Multa",valor_abatimento:"Valor Abatimento",valor_mora:"Valor Mora",valor_juros:"Valor/Taxa Juros",valor_iof:"Valor IOF",codigo_moeda:"Código Moeda",quantidade_moeda:"Qtd. Moeda",aviso_favorecido:"Aviso Favorecido",codigo_remessa:"Código Remessa/Retorno",data_geracao:"Data Geração",hora_geracao:"Hora Geração",numero_sequencial:"Num. Seq. Arquivo",versao_layout:"Versão Layout Arq.",densidade_gravacao:"Densidade Gravação",tipo_operacao:"Tipo Operação",tipo_servico:"Tipo Serviço",versao_layout_lote:"Versão Layout Lote",mensagem:"Mensagem 1",codigo_camara:"Código Câmara Comp.",codigo_banco_favorecido:"Banco Favorecido",agencia_favorecido:"Agência Favorecido",digito_agencia_favorecido:"Dígito Ag. Fav.",conta_favorecido:"Conta Favorecido",digito_conta_favorecido:"Dígito Conta Fav.",digito_ag_conta_favorecido:"Dígito Ag/Conta Fav.",tipo_moeda:"Tipo Moeda",data_real_pagamento:"Data Real Pagamento",valor_real_pagamento:"Valor Real Pagamento",informacao_complementar:"Informação Comp. (Histórico)",complemento_finalidade:"Compl. Finalidade (SPB)",finalidade_ted:"Finalidade TED",finalidade_doc:"Finalidade DOC/Salário",valor_documento:"Valor Documento",codigo_documento_favorecido:"Cód. Doc. Favorecido (TED/DOC)",codigo_ug_centralizadora:"Cód. UG Centralizadora (SIAFI)",valor_ir:"Valor IR",valor_iss:"Valor ISS",valor_outras_deducoes:"Valor Outras Deduções",valor_outros_acrescimos:"Valor Outros Acréscimos",agencia_favorecido_rateio:"Ag. Rateio",digito_agencia_favorecido_rateio:"DV Ag. Rateio",conta_favorecido_rateio:"Conta Rateio",digito_conta_favorecido_rateio:"DV Conta Rateio",digito_ag_conta_favorecido_rateio:"DV Ag/Conta Rateio",valor_inss:"Valor INSS",codigo_barras:"Código de Barras",valor_acrescimo:"Valor Acréscimo",referencia_sacado:"Referência Sacado (Seu Número)",codigo_registro_opcional:"Cód. Reg. Opcional (52)",codigo_carteira:"Código Carteira",cadastramento:"Cadastramento",documento:"Tipo Documento",emissao_boleto:"Emissão Boleto",distribuicao_boleto:"Distribuição Boleto",agencia_cobradora:"Agência Cobradora",digito_ag_cobradora:"DV Ag. Cobradora",especie:"Espécie Título",aceite:"Aceite",data_emissao:"Data Emissão",codigo_juros:"Código Juros",data_juros:"Data Juros",codigo_desconto:"Código Desconto 1",data_desconto:"Data Desconto 1",uso_empresa:"Uso Empresa (Seu Número)",codigo_protesto:"Código Protesto",prazo_protesto:"Prazo Protesto",codigo_baixa:"Código Baixa/Devolução",prazo_baixa:"Prazo Baixa/Devolução",codigo_banco_correspondente:"Banco Correspondente",nosso_numero_banco_correspondente:"Nosso Num. Banco Corresp.",codigo_desconto_2:"Código Desconto 2",data_desconto_2:"Data Desconto 2",valor_desconto_2:"Valor/Taxa Desconto 2",codigo_desconto_3:"Código Desconto 3",data_desconto_3:"Data Desconto 3",valor_desconto_3:"Valor/Taxa Desconto 3",codigo_multa:"Código Multa",data_multa:"Data Multa",informacao_pagador:"Informação ao Pagador",mensagem_3:"Mensagem 3",mensagem_4:"Mensagem 4",codigo_ocorrencia_pagador:"Cód. Ocorr. Pagador (Ret.)",codigo_banco_pagador:"Banco Pagador (Ret.)",agencia_pagador:"Agência Pagador (Ret.)",digito_agencia_pagador:"DV Ag. Pagador (Ret.)",conta_pagador:"Conta Pagador (Ret.)",digito_conta_pagador:"DV Conta Pagador (Ret.)",digito_ag_conta_pagador:"DV Ag/Conta Pagador (Ret.)",numero_aviso_debito:"Num. Aviso Débito (Ret.)"};function fo(e){return sn[e]||e.replace(/_/g," ").replace(/\b\w/g,o=>o.toUpperCase())}var ln=L('<div class="p-4 bg-blue-50 border border-blue-200 rounded-md"><h4 class="text-lg font-semibold mb-2 text-blue-800">Informações do Banco</h4> <dl class="grid grid-cols-[auto,1fr] gap-x-4 gap-y-1 text-sm"><dt class="font-medium text-gray-500"> </dt> <dd class="text-gray-800"> </dd> <dt class="font-medium text-gray-500"> </dt> <dd class="text-gray-800"> </dd></dl></div>'),cn=L('<div class="p-4 bg-gray-50 border border-gray-200 rounded-md"><h4 class="text-lg font-semibold mb-2 text-gray-700">Informações do Arquivo</h4> <dl class="grid grid-cols-[auto,1fr] gap-x-4 gap-y-1 text-sm"><dt class="font-medium text-gray-500">Linhas Lidas:</dt> <dd class="text-gray-800"> </dd> <dt class="font-medium text-gray-500">Linhas Não Vazias:</dt> <dd class="text-gray-800"> </dd> <dt class="font-medium text-gray-500">Quebra de Linha:</dt> <dd class="text-gray-800"> </dd> <dt class="font-medium text-gray-500">Erros Críticos:</dt> <dd> </dd> <dt class="font-medium text-gray-500">Avisos:</dt> <dd> </dd></dl></div>'),_n=L("<li> </li>"),un=L('<div class="errors p-4 bg-red-50 border border-red-300 rounded-md"><h4 class="text-lg font-semibold mb-2 text-red-800"> </h4> <ul class="list-disc list-inside space-y-1 text-sm text-red-700"></ul></div>'),dn=L("<li> </li>"),pn=L('<div class="warnings p-4 bg-yellow-50 border border-yellow-300 rounded-md"><h4 class="text-lg font-semibold mb-2 text-yellow-800"> </h4> <ul class="list-disc list-inside space-y-1 text-sm text-yellow-700"></ul></div>'),fn=L("<li> </li>"),mn=L(`<div class="warnings p-4 bg-orange-50 border border-orange-300 rounded-md"><details><summary class="cursor-pointer text-orange-800"><h4 class="text-lg font-semibold inline"> </h4> <span class="text-sm ml-2">(Clique para expandir)</span></summary> <p class="text-xs text-orange-700 mt-2 italic">Estes avisos indicam que o arquivo contém segmentos (ex: G, H) que não
          estão definidos no layout atual do processador (<code class="text-xs">Cnab240Processor.js</code>). Os dados desses segmentos foram ignorados. Para processá-los, a
          definição do layout precisa ser adicionada ou atualizada.</p> <ul class="list-disc list-inside space-y-1 text-sm text-orange-700 mt-2 max-h-40 overflow-y-auto"></ul></details></div>`),vn=L('<dt class="font-medium text-gray-500 truncate"> </dt> <dd class="text-gray-800 break-words"> </dd>',1),gn=L('<details class="text-xs p-2 bg-gray-50 border-t border-gray-200 mb-1"><summary class="cursor-pointer text-gray-500">Ver linha original</summary> <pre class="mt-1 font-mono bg-white p-1 border rounded overflow-x-auto"><code> </code></pre></details>'),bn=L('<div class="segment border border-gray-200 rounded-md overflow-hidden"><h4 class="text-lg font-semibold p-3 bg-gray-100 border-b border-gray-200 text-gray-700 flex justify-between items-center"><span>Header de Arquivo (Registro 0)</span> <span class="text-xs font-normal text-gray-500"> </span></h4> <dl class="p-3 grid grid-cols-[auto,1fr] gap-x-4 gap-y-1 text-sm"></dl> <!></div>'),hn=L('<dt class="font-medium text-gray-500 truncate"> </dt> <dd class="text-gray-800 break-words"> </dd>',1),xn=L('<details class="text-xs mt-1"><summary class="cursor-pointer text-gray-500 mb-1">Ver linha original</summary> <pre class="mt-1 font-mono bg-white p-1 border rounded overflow-x-auto"><code> </code></pre></details>'),yn=L('<div class="sub-segment border-l-4 border-blue-200 pl-4 py-2"><h5 class="font-semibold mb-1 text-blue-800 flex justify-between items-center"><span>Header de Lote (Registro 1)</span> <span class="text-xs font-normal text-gray-500"> </span></h5> <dl class="grid grid-cols-[auto,1fr] gap-x-4 gap-y-1 text-sm"></dl> <!></div>'),wn=L('<p class="text-xs text-orange-600 italic mb-1">Aviso: Grupo pode estar incompleto ou fora de sequência.</p>'),En=L('<dt class="font-medium text-gray-500 truncate"> </dt> <dd class="text-gray-800 break-words"> </dd>',1),Cn=L('<details class="text-xs mt-1"><summary class="cursor-pointer text-gray-500 mb-1">Ver linha original</summary> <pre class="mt-1 font-mono bg-white p-1 border rounded overflow-x-auto"><code> </code></pre></details>'),$n=L('<div class="segment-item mb-2 last:mb-0"><h6 class="font-medium text-sm text-gray-700 flex justify-between items-center border-b border-dotted border-gray-300 pb-1 mb-1"><span> </span> <span class="text-xs font-normal text-gray-500"> </span></h6> <dl class="grid grid-cols-[auto,1fr] gap-x-4 gap-y-1 text-xs"></dl> <!></div>'),Nn=L('<div class="border border-gray-200 rounded p-2 bg-white shadow-sm"><p class="text-xs font-medium text-gray-600 mb-1"></p> <!> <!></div>'),Tn=L('<div class="sub-segment border-l-4 border-green-200 pl-4 py-2"><h5 class="font-semibold mb-2 text-green-800"> </h5> <div class="space-y-3"></div></div>'),Ln=L('<dt class="font-medium text-gray-500 truncate"> </dt> <dd class="text-gray-800 break-words"> </dd>',1),qn=L('<details class="text-xs mt-1"><summary class="cursor-pointer text-gray-500 mb-1">Ver linha original</summary> <pre class="mt-1 font-mono bg-white p-1 border rounded overflow-x-auto"><code> </code></pre></details>'),Sn=L('<div class="sub-segment border-l-4 border-blue-200 pl-4 py-2"><h5 class="font-semibold mb-1 text-blue-800 flex justify-between items-center"><span>Trailer de Lote (Registro 5)</span> <span class="text-xs font-normal text-gray-500"> </span></h5> <dl class="grid grid-cols-[auto,1fr] gap-x-4 gap-y-1 text-sm"></dl> <!></div>'),An=L('<div class="segment border border-gray-200 rounded-md overflow-hidden"><h4 class="text-lg font-semibold p-3 bg-gray-100 border-b border-gray-200 text-gray-700"> <!> <span class="text-xs font-normal text-gray-500 ml-2"> </span></h4> <div class="p-3 space-y-4"><!> <!> <!></div></div>'),Rn=L('<dt class="font-medium text-gray-500 truncate"> </dt> <dd class="text-gray-800 break-words"> </dd>',1),On=L('<details class="text-xs p-2 bg-gray-50 border-t border-gray-200 mb-1"><summary class="cursor-pointer text-gray-500">Ver linha original</summary> <pre class="mt-1 font-mono bg-white p-1 border rounded overflow-x-auto"><code> </code></pre></details>'),Dn=L('<div class="segment border border-gray-200 rounded-md overflow-hidden"><h4 class="text-lg font-semibold p-3 bg-gray-100 border-b border-gray-200 text-gray-700 flex justify-between items-center"><span>Trailer de Arquivo (Registro 9)</span> <span class="text-xs font-normal text-gray-500"> </span></h4> <dl class="p-3 grid grid-cols-[auto,1fr] gap-x-4 gap-y-1 text-sm"></dl> <!></div>'),kn=L('<p class="text-center text-gray-500 italic mt-6">Nenhum arquivo processado ainda.</p>'),In=L('<div class="cnab-viewer space-y-6"><!> <!> <!> <!> <!> <!> <!> <!> <!></div>');function Fn(e,o){vt(o,!1);const t=de(),a=de(),r=de(),n=de(),u=de(),c=de(),l=de(),i=de(),_=de(),d=de();let s=en(o,"result",8);const m="Layout definition missing for Segmento";function p(g){if(!g||typeof g!="object")return[];const T=[];for(const[O,E]of Object.entries(g))O.startsWith("_")||T.push({key:O,label:fo(O),value:$(E),original:g[`${O}_original`]});return T}function $(g){return g==null?"N/A":typeof g=="object"?JSON.stringify(g):String(g)}function h(g){const T=g.match(/^segmento_([a-z])([0-9]*)$/i);if(T){const O=T[1].toUpperCase(),E=T[2];return E&&E!==""?`${O}${E}`:O}return g.replace("segmento_","").toUpperCase()}Ee(()=>De(s()),()=>{var g;U(t,(g=s())==null?void 0:g.bank_code)}),Ee(()=>De(s()),()=>{var g;U(a,(g=s())==null?void 0:g.bank_name)}),Ee(()=>De(s()),()=>{var g;U(r,(g=s())==null?void 0:g.header_arquivo)}),Ee(()=>De(s()),()=>{var g;U(n,((g=s())==null?void 0:g.lotes)||{})}),Ee(()=>De(s()),()=>{var g;U(u,(g=s())==null?void 0:g.trailer_arquivo)}),Ee(()=>De(s()),()=>{var g;U(c,((g=s())==null?void 0:g.warnings)||[])}),Ee(()=>De(s()),()=>{var g;U(l,((g=s())==null?void 0:g.errors)||[])}),Ee(()=>De(s()),()=>{var g;U(i,(g=s())==null?void 0:g.file_info)}),Ee(()=>f(c),()=>{U(_,f(c).filter(g=>g.includes(m)))}),Ee(()=>f(c),()=>{U(d,f(c).filter(g=>!g.includes(m)))}),fr(),xa();var q=In(),F=v(q);{var y=g=>{var T=ln(),O=b(v(T),2),E=v(O),X=v(E),z=b(E,2),Z=v(z),K=b(z,2),D=v(K),R=b(K,2),Y=v(R);A((Q,ne)=>{C(X,`${Q??""}:`),C(Z,f(t)),C(D,`${ne??""}:`),C(Y,f(a)||"Desconhecido")},[()=>fo("codigo_banco"),()=>fo("nome_banco")],vo),N(g,T)};B(F,g=>{f(t)&&g(y)})}var x=b(F,2);{var w=g=>{var T=cn(),O=b(v(T),2),E=b(v(O),2),X=v(E),z=b(E,4),Z=v(z),K=b(z,4),D=v(K),R=b(K,4),Y=v(R),Q=b(R,4),ne=v(Q);A(()=>{C(X,f(i).total_lines_read),C(Z,f(i).non_empty_lines),C(D,f(i).detected_line_ending),jt(R,1,Vt(f(l).length>0?"text-red-600 font-bold":"text-green-600")),C(Y,f(l).length>0?`${f(l).length} encontrado(s)`:"Nenhum"),jt(Q,1,Vt(f(c).length>0?"text-yellow-600 font-bold":"text-green-600")),C(ne,f(c).length>0?`${f(c).length} encontrado(s)`:"Nenhum")}),N(g,T)};B(x,g=>{f(i)&&g(w)})}var j=b(x,2);{var J=g=>{var T=un(),O=v(T),E=v(O),X=b(O,2);ge(X,5,()=>f(l),Lo,(z,Z)=>{var K=_n(),D=v(K);A(()=>C(D,f(Z))),N(z,K)}),A(()=>C(E,`Erros Críticos (${f(l).length??""})`)),N(g,T)};B(j,g=>{f(l).length>0&&g(J)})}var P=b(j,2);{var S=g=>{var T=pn(),O=v(T),E=v(O),X=b(O,2);ge(X,5,()=>f(d),Lo,(z,Z)=>{var K=dn(),D=v(K);A(()=>C(D,f(Z))),N(z,K)}),A(()=>C(E,`Avisos (${f(d).length??""})`)),N(g,T)};B(P,g=>{f(d).length>0&&g(S)})}var V=b(P,2);{var H=g=>{var T=mn(),O=v(T),E=v(O),X=v(E),z=v(X),Z=b(E,4);ge(Z,5,()=>f(_),Lo,(K,D)=>{var R=fn(),Y=v(R);A(()=>C(Y,f(D))),N(K,R)}),A(()=>C(z,`Avisos de Layout Faltante (${f(_).length??""})`)),N(g,T)};B(V,g=>{f(_).length>0&&g(H)})}var he=b(V,2);{var Le=g=>{var T=bn(),O=v(T),E=b(v(O),2),X=v(E),z=b(O,2);ge(z,5,()=>p(f(r)),D=>D.key,(D,R)=>{var Y=vn(),Q=We(Y),ne=v(Q),Ke=b(Q,2),Ze=v(Ke);A(()=>{Ce(Q,"title",f(R).key),C(ne,`${f(R).label??""}:`),Ce(Ke,"title",f(R).original?`Original: ${f(R).original}`:""),C(Ze,f(R).value)}),N(D,Y)});var Z=b(z,2);{var K=D=>{var R=gn(),Y=b(v(R),2),Q=v(Y),ne=v(Q);A(()=>C(ne,f(r)._linha_original)),N(D,R)};B(Z,D=>{f(r)._linha_original&&D(K)})}A(()=>C(X,`Linha ${f(r)._lineNumber||"N/A"}`)),N(g,T)};B(he,g=>{f(r)&&g(Le)})}var qe=b(he,2);ge(qe,1,()=>Object.entries(f(n)),([g,T])=>g,(g,T)=>{let O=()=>f(T)[0],E=()=>f(T)[1];var X=An(),z=v(X),Z=v(z),K=b(Z);{var D=oe=>{var ie=Or();A((ye,Ge,Qe,Se)=>C(ie,`(${ye??""}: ${Ge??""}, ${Qe??""}: ${Se??""})`),[()=>fo("tipo_servico"),()=>$(E().header_lote.tipo_servico),()=>fo("tipo_operacao"),()=>$(E().header_lote.tipo_operacao)],vo),N(oe,ie)};B(K,oe=>{var ie;(ie=E().header_lote)!=null&&ie.tipo_servico&&oe(D)})}var R=b(K,2),Y=v(R),Q=b(z,2),ne=v(Q);{var Ke=oe=>{var ie=yn(),ye=v(ie),Ge=b(v(ye),2),Qe=v(Ge),Se=b(ye,2);ge(Se,5,()=>p(E().header_lote),W=>W.key,(W,G)=>{var fe=hn(),ce=We(fe),Ae=v(ce),_e=b(ce,2),Re=v(_e);A(()=>{Ce(ce,"title",f(G).key),C(Ae,`${f(G).label??""}:`),Ce(_e,"title",f(G).original?`Original: ${f(G).original}`:""),C(Re,f(G).value)}),N(W,fe)});var eo=b(Se,2);{var uo=W=>{var G=xn(),fe=b(v(G),2),ce=v(fe),Ae=v(ce);A(()=>C(Ae,E().header_lote._linha_original)),N(W,G)};B(eo,W=>{E().header_lote._linha_original&&W(uo)})}A(()=>C(Qe,`Linha ${E().header_lote._lineNumber||"N/A"}`)),N(oe,ie)};B(ne,oe=>{E().header_lote&&oe(Ke)})}var Ze=b(ne,2);{var Na=oe=>{var ie=Tn(),ye=v(ie),Ge=v(ye),Qe=b(ye,2);ge(Qe,5,()=>E().detalhes_agrupados,Lo,(Se,eo,uo)=>{var W=Nn(),G=v(W);G.textContent=`Grupo ${uo+1}`;var fe=b(G,2);{var ce=_e=>{var Re=wn();N(_e,Re)};B(fe,_e=>{f(eo)._incomplete_group&&_e(ce)})}var Ae=b(fe,2);ge(Ae,1,()=>Object.entries(f(eo)),([_e,Re])=>_e,(_e,Re)=>{let Ct=()=>f(Re)[0],No=()=>f(Re)[1];var $t=Dr(),qa=We($t);{var Sa=Xo=>{var Nt=$n(),Tt=v(Nt),Lt=v(Tt),Aa=v(Lt),Ra=b(Lt,2),Oa=v(Ra),qt=b(Tt,2);ge(qt,5,()=>p(No()),Oe=>Oe.key,(Oe,Be)=>{var To=En(),po=We(To),Zo=v(po),St=b(po,2),Ia=v(St);A(()=>{Ce(po,"title",f(Be).key),C(Zo,`${f(Be).label??""}:`),Ce(St,"title",f(Be).original?`Original: ${f(Be).original}`:""),C(Ia,f(Be).value)}),N(Oe,To)});var Da=b(qt,2);{var ka=Oe=>{var Be=Cn(),To=b(v(Be),2),po=v(To),Zo=v(po);A(()=>C(Zo,No()._linha_original)),N(Oe,Be)};B(Da,Oe=>{No()._linha_original&&Oe(ka)})}A(Oe=>{C(Aa,`Segmento ${Oe??""}`),C(Oa,`Linha ${No()._lineNumber||"N/A"}`)},[()=>h(Ct())],vo),N(Xo,Nt)};B(qa,Xo=>{Ct().startsWith("_")||Xo(Sa)})}N(_e,$t)}),N(Se,W)}),A(()=>C(Ge,`Detalhes Agrupados (Registro 3) - ${E().detalhes_agrupados.length??""} grupo(s)`)),N(oe,ie)};B(Ze,oe=>{E().detalhes_agrupados&&E().detalhes_agrupados.length>0&&oe(Na)})}var Ta=b(Ze,2);{var La=oe=>{var ie=Sn(),ye=v(ie),Ge=b(v(ye),2),Qe=v(Ge),Se=b(ye,2);ge(Se,5,()=>p(E().trailer_lote),W=>W.key,(W,G)=>{var fe=Ln(),ce=We(fe),Ae=v(ce),_e=b(ce,2),Re=v(_e);A(()=>{Ce(ce,"title",f(G).key),C(Ae,`${f(G).label??""}:`),Ce(_e,"title",f(G).original?`Original: ${f(G).original}`:""),C(Re,f(G).value)}),N(W,fe)});var eo=b(Se,2);{var uo=W=>{var G=qn(),fe=b(v(G),2),ce=v(fe),Ae=v(ce);A(()=>C(Ae,E().trailer_lote._linha_original)),N(W,G)};B(eo,W=>{E().trailer_lote._linha_original&&W(uo)})}A(()=>C(Qe,`Linha ${E().trailer_lote._lineNumber||"N/A"}`)),N(oe,ie)};B(Ta,oe=>{E().trailer_lote&&oe(La)})}A(()=>{C(Z,`Lote ${O()??""} `),C(Y,`Linhas ${E()._startLine||"?"} - ${E()._endLine||"?"}`)}),N(g,X)});var Pe=b(qe,2);{var xe=g=>{var T=Dn(),O=v(T),E=b(v(O),2),X=v(E),z=b(O,2);ge(z,5,()=>p(f(u)),D=>D.key,(D,R)=>{var Y=Rn(),Q=We(Y),ne=v(Q),Ke=b(Q,2),Ze=v(Ke);A(()=>{Ce(Q,"title",f(R).key),C(ne,`${f(R).label??""}:`),Ce(Ke,"title",f(R).original?`Original: ${f(R).original}`:""),C(Ze,f(R).value)}),N(D,Y)});var Z=b(z,2);{var K=D=>{var R=On(),Y=b(v(R),2),Q=v(Y),ne=v(Q);A(()=>C(ne,f(u)._linha_original)),N(D,R)};B(Z,D=>{f(u)._linha_original&&D(K)})}A(()=>C(X,`Linha ${f(u)._lineNumber||"N/A"}`)),N(g,T)};B(Pe,g=>{f(u)&&g(xe)})}var Co=b(Pe,2);{var $o=g=>{var T=kn();N(g,T)};B(Co,g=>{s()||g($o)})}N(e,q),gt()}var Pn=L('<p class="text-blue-600 animate-pulse">Carregando e processando arquivo...</p>'),Bn=L('<p class="text-red-600 font-semibold bg-red-100 p-3 rounded border border-red-300"> </p>'),Un=L('<h2 class="text-xl font-semibold mb-4 text-gray-700">Resultado da Análise: <span class="font-normal italic"> </span></h2> <!>',1),Mn=L(`<div class="flex flex-col min-h-screen"><main class="flex-grow max-w-4xl mx-auto p-6 bg-white rounded-lg shadow-md my-8 w-full"><h1 class="text-2xl font-bold mb-4 text-gray-700">Leitor CNAB 240 (REM/RET)</h1> <p class="mb-2 text-gray-600">Selecione um arquivo CNAB 240 (remessa ou retorno) para análise local no
      navegador.</p> <p class="mb-6 text-sm text-orange-700 bg-orange-100 p-3 rounded border border-orange-300"><strong>Atenção:</strong> Este é um leitor básico e pode não interpretar
      todos os segmentos ou validações específicas do seu banco.</p> <div class="controls mb-6 flex flex-wrap items-center gap-4"><label for="cnabFile" class="font-semibold text-gray-700">Arquivo CNAB:</label> <input type="file" id="cnabFile" accept=".rem,.txt,.REM,.TXT,.ret,.RET" class="block w-full sm:w-auto text-sm text-gray-500
               file:mr-4 file:py-2 file:px-4
               file:rounded-md file:border-0
               file:text-sm file:font-semibold
               file:bg-blue-50 file:text-blue-700
               hover:file:bg-blue-100
               disabled:opacity-50 disabled:cursor-not-allowed flex-grow"> <button class="px-4 py-2 bg-gray-500 text-white rounded-md hover:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed">Limpar</button> <button class="px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed" title="Baixar resultado como JSON"><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 inline-block mr-1 align-text-bottom" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg> Download JSON</button></div> <!> <!> <!></main> <footer class="w-full text-center p-4 mt-auto bg-gray-200 text-gray-600 text-sm"><p></p> <p><a href="https://github.com/mlvieira" class="hover:underline">Github</a></p></footer></div>`);function Vn(e,o){vt(o,!1);const[t,a]=Xr(),r=()=>Yr(u,"$state",t);let n=de();const u=tt,c=new Date().getFullYear();function l(S){const V=S.target.files[0];V&&tt.processCnabFile(V)}function i(){tt.reset(),f(n)&&sr(n,f(n).value="")}function _(){const S=r().parsedResult,he=`cnab_result_${(r().fileName||"cnab_file").replace(/\.[^/.]+$/,"").replace(/[^a-z0-9]/gi,"_").toLowerCase()}.json`;if(!S){alert("Nenhum dado processado para baixar.");return}try{const Le=JSON.stringify(S,null,2),qe=new Blob([Le],{type:"application/json"}),Pe=URL.createObjectURL(qe),xe=document.createElement("a");xe.href=Pe,xe.download=he,document.body.appendChild(xe),xe.click(),document.body.removeChild(xe),URL.revokeObjectURL(Pe)}catch(Le){console.error("Erro ao gerar JSON para download:",Le),alert("Ocorreu um erro ao gerar o arquivo JSON.")}}xa();var d=Mn(),s=v(d),m=b(v(s),6),p=b(v(m),2);Qr(p,S=>U(n,S),()=>f(n));var $=b(p,2),h=b($,2),q=b(m,2);{var F=S=>{var V=Pn();N(S,V)};B(q,S=>{r().status==="loading"&&S(F)})}var y=b(q,2);{var x=S=>{var V=Bn(),H=v(V);A(()=>C(H,`Erro: ${r().error??""}`)),N(S,V)};B(y,S=>{r().status==="error"&&S(x)})}var w=b(y,2);{var j=S=>{var V=Un(),H=We(V),he=b(v(H)),Le=v(he),qe=b(H,2);Fn(qe,{get result(){return r().parsedResult}}),A(()=>C(Le,r().fileName)),N(S,V)};B(w,S=>{r().parsedResult&&S(j)})}var J=b(s,2),P=v(J);P.textContent=`© ${c??""} Matheus Vieira. Todos os direitos reservados.`,A(()=>{p.disabled=r().status==="loading",$.disabled=r().status==="idle"&&!r().fileName,h.disabled=!r().parsedResult||r().status==="loading"}),ot("change",p,l),ot("click",$,i),ot("click",h,_),N(e,d),gt(),a()}kr(Vn,{target:document.getElementById("app")});
