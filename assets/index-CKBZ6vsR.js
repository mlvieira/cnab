var jt=o=>{throw TypeError(o)};var Bt=(o,e,t)=>e.has(o)||jt("Cannot "+t);var Mo=(o,e,t)=>(Bt(o,e,"read from private field"),t?t.call(o):e.get(o)),Ue=(o,e,t)=>e.has(o)?jt("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(o):e.set(o,t);var So=(o,e,t)=>(Bt(o,e,"access private method"),t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const d of r.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function t(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerPolicy&&(r.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?r.credentials="include":n.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function a(n){if(n.ep)return;n.ep=!0;const r=t(n);fetch(n.href,r)}})();const Ut=!1;var Ct=Array.isArray,Ma=Array.prototype.indexOf,Nt=Array.from,na=Object.defineProperty,me=Object.getOwnPropertyDescriptor,ia=Object.getOwnPropertyDescriptors,ja=Object.prototype,Ba=Array.prototype,Lt=Object.getPrototypeOf,zt=Object.isExtensible;const ge=()=>{};function Ua(o){return o()}function bt(o){for(var e=0;e<o.length;e++)o[e]()}const No=2,sa=4,rt=8,At=16,Uo=32,be=64,We=128,bo=256,Ye=512,uo=1024,Oo=2048,Xo=4096,Bo=8192,nt=16384,za=32768,Dt=65536,Ha=1<<17,Ja=1<<19,la=1<<20,xt=1<<21,se=Symbol("$state"),Ga=Symbol("legacy props");function ua(o){return o===this.v}function ca(o,e){return o!=o?e==e:o!==e||o!==null&&typeof o=="object"||typeof o=="function"}function da(o){return!ca(o,this.v)}function Wa(o){throw new Error("https://svelte.dev/e/effect_in_teardown")}function Ya(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Ka(o){throw new Error("https://svelte.dev/e/effect_orphan")}function Qa(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Xa(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Za(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function or(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}let Te=!1,er=!1;function tr(){Te=!0}const Rt=1,St=2,_a=4,ar=8,rr=16,nr=2,ir=1,sr=2,fo=Symbol(),lr="http://www.w3.org/1999/xhtml";let z=null;function Ht(o){z=o}function Tt(o,e=!1,t){var a=z={p:z,c:null,d:!1,e:null,m:!1,s:o,x:null,l:null};Te&&!e&&(z.l={s:null,u:null,r1:[],r2:Re(!1)}),kt(()=>{a.d=!0})}function qt(o){const e=z;if(e!==null){const d=e.e;if(d!==null){var t=F,a=I;e.e=null;try{for(var n=0;n<d.length;n++){var r=d[n];Qo(r.effect),ko(r.reaction),Pt(r.fn)}}finally{Qo(t),ko(a)}}z=e.p,e.m=!0}return{}}function it(){return!Te||z!==null&&z.l===null}function ve(o){if(typeof o!="object"||o===null||se in o)return o;const e=Lt(o);if(e!==ja&&e!==Ba)return o;var t=new Map,a=Ct(o),n=Jo(0),r=I,d=u=>{var l=I;ko(r);var i=u();return ko(l),i};return a&&t.set("length",Jo(o.length)),new Proxy(o,{defineProperty(u,l,i){(!("value"in i)||i.configurable===!1||i.enumerable===!1||i.writable===!1)&&Xa();var p=t.get(l);return p===void 0?(p=d(()=>Jo(i.value)),t.set(l,p)):U(p,d(()=>ve(i.value))),!0},deleteProperty(u,l){var i=t.get(l);if(i===void 0)l in u&&(t.set(l,d(()=>Jo(fo))),mt(n));else{if(a&&typeof l=="string"){var p=t.get("length"),_=Number(l);Number.isInteger(_)&&_<p.v&&U(p,_)}U(i,fo),mt(n)}return!0},get(u,l,i){var m;if(l===se)return o;var p=t.get(l),_=l in u;if(p===void 0&&(!_||(m=me(u,l))!=null&&m.writable)&&(p=d(()=>Jo(ve(_?u[l]:fo))),t.set(l,p)),p!==void 0){var s=c(p);return s===fo?void 0:s}return Reflect.get(u,l,i)},getOwnPropertyDescriptor(u,l){var i=Reflect.getOwnPropertyDescriptor(u,l);if(i&&"value"in i){var p=t.get(l);p&&(i.value=c(p))}else if(i===void 0){var _=t.get(l),s=_==null?void 0:_.v;if(_!==void 0&&s!==fo)return{enumerable:!0,configurable:!0,value:s,writable:!0}}return i},has(u,l){var s;if(l===se)return!0;var i=t.get(l),p=i!==void 0&&i.v!==fo||Reflect.has(u,l);if(i!==void 0||F!==null&&(!p||(s=me(u,l))!=null&&s.writable)){i===void 0&&(i=d(()=>Jo(p?ve(u[l]):fo)),t.set(l,i));var _=c(i);if(_===fo)return!1}return p},set(u,l,i,p){var H;var _=t.get(l),s=l in u;if(a&&l==="length")for(var m=i;m<_.v;m+=1){var v=t.get(m+"");v!==void 0?U(v,fo):m in u&&(v=d(()=>Jo(fo)),t.set(m+"",v))}_===void 0?(!s||(H=me(u,l))!=null&&H.writable)&&(_=d(()=>Jo(void 0)),U(_,d(()=>ve(i))),t.set(l,_)):(s=_.v!==fo,U(_,d(()=>ve(i))));var w=Reflect.getOwnPropertyDescriptor(u,l);if(w!=null&&w.set&&w.set.call(p,i),!s){if(a&&typeof l=="string"){var R=t.get("length"),b=Number(l);Number.isInteger(b)&&b>=R.v&&U(R,b+1)}mt(n)}return!0},ownKeys(u){c(n);var l=Reflect.ownKeys(u).filter(_=>{var s=t.get(_);return s===void 0||s.v!==fo});for(var[i,p]of t)p.v!==fo&&!(i in u)&&l.push(i);return l},setPrototypeOf(){Za()}})}function mt(o,e=1){U(o,o.v+e)}function Ot(o){var e=No|Oo,t=I!==null&&(I.f&No)!==0?I:null;return F===null||t!==null&&(t.f&bo)!==0?e|=bo:F.f|=la,{ctx:z,deps:null,effects:null,equals:ua,f:e,fn:o,reactions:null,rv:0,v:null,wv:0,parent:t??F}}function ie(o){const e=Ot(o);return e.equals=da,e}function pa(o){var e=o.effects;if(e!==null){o.effects=null;for(var t=0;t<e.length;t+=1)Ko(e[t])}}function ur(o){for(var e=o.parent;e!==null;){if((e.f&No)===0)return e;e=e.parent}return null}function fa(o){var e,t=F;Qo(ur(o));try{pa(o),e=Da(o)}finally{Qo(t)}return e}function va(o){var e=fa(o),t=(Yo||(o.f&bo)!==0)&&o.deps!==null?Xo:uo;Eo(o,t),o.equals(e)||(o.v=e,o.wv=La())}const De=new Map;function Re(o,e){var t={f:0,v:o,reactions:null,equals:ua,rv:0,wv:0};return t}function Jo(o,e){const t=Re(o);return yr(t),t}function ho(o,e=!1){var a;const t=Re(o);return e||(t.equals=da),Te&&z!==null&&z.l!==null&&((a=z.l).s??(a.s=[])).push(t),t}function cr(o,e){return U(o,Oe(()=>c(o))),e}function U(o,e,t=!1){I!==null&&!qo&&it()&&(I.f&(No|At))!==0&&!(lo!=null&&lo.includes(o))&&or();let a=t?ve(e):e;return yt(o,a)}function yt(o,e){if(!o.equals(e)){var t=o.v;qe?De.set(o,e):De.set(o,t),o.v=e,(o.f&No)!==0&&((o.f&Oo)!==0&&fa(o),Eo(o,(o.f&bo)===0?uo:Xo)),o.wv=La(),ma(o,Oo),it()&&F!==null&&(F.f&uo)!==0&&(F.f&(Uo|be))===0&&(wo===null?wr([o]):wo.push(o))}return e}function ma(o,e){var t=o.reactions;if(t!==null)for(var a=it(),n=t.length,r=0;r<n;r++){var d=t[r],u=d.f;(u&Oo)===0&&(!a&&d===F||(Eo(d,e),(u&(uo|bo))!==0&&((u&No)!==0?ma(d,Xo):_t(d))))}}let dr=!1;var Jt,ga,ha,ba;function _r(){if(Jt===void 0){Jt=window,ga=/Firefox/.test(navigator.userAgent);var o=Element.prototype,e=Node.prototype,t=Text.prototype;ha=me(e,"firstChild").get,ba=me(e,"nextSibling").get,zt(o)&&(o.__click=void 0,o.__className=void 0,o.__attributes=null,o.__style=void 0,o.__e=void 0),zt(t)&&(t.__t=void 0)}}function st(o=""){return document.createTextNode(o)}function Ke(o){return ha.call(o)}function lt(o){return ba.call(o)}function f(o,e){return Ke(o)}function Co(o,e){{var t=Ke(o);return t instanceof Comment&&t.data===""?lt(t):t}}function h(o,e=1,t=!1){let a=o;for(;e--;)a=lt(a);return a}function pr(o){o.textContent=""}function xa(o){F===null&&I===null&&Ka(),I!==null&&(I.f&bo)!==0&&F===null&&Ya(),qe&&Wa()}function fr(o,e){var t=e.last;t===null?e.last=e.first=o:(t.next=o,o.prev=t,e.last=o)}function xe(o,e,t,a=!0){var n=F,r={ctx:z,deps:null,nodes_start:null,nodes_end:null,f:o|Oo,first:null,fn:e,last:null,next:null,parent:n,prev:null,teardown:null,transitions:null,wv:0};if(t)try{dt(r),r.f|=za}catch(l){throw Ko(r),l}else e!==null&&_t(r);var d=t&&r.deps===null&&r.first===null&&r.nodes_start===null&&r.teardown===null&&(r.f&(la|We))===0;if(!d&&a&&(n!==null&&fr(r,n),I!==null&&(I.f&No)!==0)){var u=I;(u.effects??(u.effects=[])).push(r)}return r}function kt(o){const e=xe(rt,null,!1);return Eo(e,uo),e.teardown=o,e}function Gt(o){xa();var e=F!==null&&(F.f&Uo)!==0&&z!==null&&!z.m;if(e){var t=z;(t.e??(t.e=[])).push({fn:o,effect:F,reaction:I})}else{var a=Pt(o);return a}}function vr(o){return xa(),ut(o)}function mr(o){const e=xe(be,o,!0);return(t={})=>new Promise(a=>{t.outro?Qe(e,()=>{Ko(e),a(void 0)}):(Ko(e),a(void 0))})}function Pt(o){return xe(sa,o,!1)}function To(o,e){var t=z,a={effect:null,ran:!1};t.l.r1.push(a),a.effect=ut(()=>{o(),!a.ran&&(a.ran=!0,U(t.l.r2,!0),Oe(e))})}function gr(){var o=z;ut(()=>{if(c(o.l.r2)){for(var e of o.l.r1){var t=e.effect;(t.f&uo)!==0&&Eo(t,Xo),ye(t)&&dt(t),e.ran=!1}o.l.r2.v=!1}})}function ut(o){return xe(rt,o,!0)}function L(o,e=[],t=Ot){const a=e.map(t);return It(()=>o(...a.map(c)))}function It(o,e=0){return xe(rt|At|e,o,!0)}function Se(o,e=!0){return xe(rt|Uo,o,!0,e)}function ya(o){var e=o.teardown;if(e!==null){const t=qe,a=I;Wt(!0),ko(null);try{e.call(null)}finally{Wt(t),ko(a)}}}function wa(o,e=!1){var t=o.first;for(o.first=o.last=null;t!==null;){var a=t.next;(t.f&be)!==0?t.parent=null:Ko(t,e),t=a}}function hr(o){for(var e=o.first;e!==null;){var t=e.next;(e.f&Uo)===0&&Ko(e),e=t}}function Ko(o,e=!0){var t=!1;(e||(o.f&Ja)!==0)&&o.nodes_start!==null&&(br(o.nodes_start,o.nodes_end),t=!0),wa(o,e&&!t),tt(o,0),Eo(o,nt);var a=o.transitions;if(a!==null)for(const r of a)r.stop();ya(o);var n=o.parent;n!==null&&n.first!==null&&Ea(o),o.next=o.prev=o.teardown=o.ctx=o.deps=o.fn=o.nodes_start=o.nodes_end=null}function br(o,e){for(;o!==null;){var t=o===e?null:lt(o);o.remove(),o=t}}function Ea(o){var e=o.parent,t=o.prev,a=o.next;t!==null&&(t.next=a),a!==null&&(a.prev=t),e!==null&&(e.first===o&&(e.first=a),e.last===o&&(e.last=t))}function Qe(o,e){var t=[];Ft(o,t,!0),$a(t,()=>{Ko(o),e&&e()})}function $a(o,e){var t=o.length;if(t>0){var a=()=>--t||e();for(var n of o)n.out(a)}else e()}function Ft(o,e,t){if((o.f&Bo)===0){if(o.f^=Bo,o.transitions!==null)for(const d of o.transitions)(d.is_global||t)&&e.push(d);for(var a=o.first;a!==null;){var n=a.next,r=(a.f&Dt)!==0||(a.f&Uo)!==0;Ft(a,e,r?t:!1),a=n}}}function Xe(o){Ca(o,!0)}function Ca(o,e){if((o.f&Bo)!==0){o.f^=Bo,(o.f&uo)===0&&(o.f^=uo),ye(o)&&(Eo(o,Oo),_t(o));for(var t=o.first;t!==null;){var a=t.next,n=(t.f&Dt)!==0||(t.f&Uo)!==0;Ca(t,n?e:!1),t=a}if(o.transitions!==null)for(const r of o.transitions)(r.is_global||e)&&r.in()}}let Ze=[];function xr(){var o=Ze;Ze=[],bt(o)}function Vt(o){Ze.length===0&&queueMicrotask(xr),Ze.push(o)}let Je=!1,wt=!1,ot=null,le=!1,qe=!1;function Wt(o){qe=o}let Ge=[];let I=null,qo=!1;function ko(o){I=o}let F=null;function Qo(o){F=o}let lo=null;function yr(o){I!==null&&I.f&xt&&(lo===null?lo=[o]:lo.push(o))}let io=null,go=0,wo=null;function wr(o){wo=o}let Na=1,et=0,Yo=!1;function La(){return++Na}function ye(o){var _;var e=o.f;if((e&Oo)!==0)return!0;if((e&Xo)!==0){var t=o.deps,a=(e&bo)!==0;if(t!==null){var n,r,d=(e&Ye)!==0,u=a&&F!==null&&!Yo,l=t.length;if(d||u){var i=o,p=i.parent;for(n=0;n<l;n++)r=t[n],(d||!((_=r==null?void 0:r.reactions)!=null&&_.includes(i)))&&(r.reactions??(r.reactions=[])).push(i);d&&(i.f^=Ye),u&&p!==null&&(p.f&bo)===0&&(i.f^=bo)}for(n=0;n<l;n++)if(r=t[n],ye(r)&&va(r),r.wv>o.wv)return!0}(!a||F!==null&&!Yo)&&Eo(o,uo)}return!1}function Er(o,e){for(var t=e;t!==null;){if((t.f&We)!==0)try{t.fn(o);return}catch{t.f^=We}t=t.parent}throw Je=!1,o}function Yt(o){return(o.f&nt)===0&&(o.parent===null||(o.parent.f&We)===0)}function ct(o,e,t,a){if(Je){if(t===null&&(Je=!1),Yt(e))throw o;return}if(t!==null&&(Je=!0),Er(o,e),Yt(e))throw o}function Aa(o,e,t=!0){var a=o.reactions;if(a!==null)for(var n=0;n<a.length;n++){var r=a[n];lo!=null&&lo.includes(o)||((r.f&No)!==0?Aa(r,e,!1):e===r&&(t?Eo(r,Oo):(r.f&uo)!==0&&Eo(r,Xo),_t(r)))}}function Da(o){var m;var e=io,t=go,a=wo,n=I,r=Yo,d=lo,u=z,l=qo,i=o.f;io=null,go=0,wo=null,Yo=(i&bo)!==0&&(qo||!le||I===null),I=(i&(Uo|be))===0?o:null,lo=null,Ht(o.ctx),qo=!1,et++,o.f|=xt;try{var p=(0,o.fn)(),_=o.deps;if(io!==null){var s;if(tt(o,go),_!==null&&go>0)for(_.length=go+io.length,s=0;s<io.length;s++)_[go+s]=io[s];else o.deps=_=io;if(!Yo)for(s=go;s<_.length;s++)((m=_[s]).reactions??(m.reactions=[])).push(o)}else _!==null&&go<_.length&&(tt(o,go),_.length=go);if(it()&&wo!==null&&!qo&&_!==null&&(o.f&(No|Xo|Oo))===0)for(s=0;s<wo.length;s++)Aa(wo[s],o);return n!==null&&n!==o&&(et++,wo!==null&&(a===null?a=wo:a.push(...wo))),p}finally{io=e,go=t,wo=a,I=n,Yo=r,lo=d,Ht(u),qo=l,o.f^=xt}}function $r(o,e){let t=e.reactions;if(t!==null){var a=Ma.call(t,o);if(a!==-1){var n=t.length-1;n===0?t=e.reactions=null:(t[a]=t[n],t.pop())}}t===null&&(e.f&No)!==0&&(io===null||!io.includes(e))&&(Eo(e,Xo),(e.f&(bo|Ye))===0&&(e.f^=Ye),pa(e),tt(e,0))}function tt(o,e){var t=o.deps;if(t!==null)for(var a=e;a<t.length;a++)$r(o,t[a])}function dt(o){var e=o.f;if((e&nt)===0){Eo(o,uo);var t=F,a=z,n=le;F=o,le=!0;try{(e&At)!==0?hr(o):wa(o),ya(o);var r=Da(o);o.teardown=typeof r=="function"?r:null,o.wv=Na;var d=o.deps,u;Ut&&er&&o.f&Oo}catch(l){ct(l,o,t,a||o.ctx)}finally{le=n,F=t}}}function Cr(){try{Qa()}catch(o){if(ot!==null)ct(o,ot,null);else throw o}}function Nr(){var o=le;try{var e=0;for(le=!0;Ge.length>0;){e++>1e3&&Cr();var t=Ge,a=t.length;Ge=[];for(var n=0;n<a;n++){var r=Ar(t[n]);Lr(r)}De.clear()}}finally{wt=!1,le=o,ot=null}}function Lr(o){var e=o.length;if(e!==0)for(var t=0;t<e;t++){var a=o[t];if((a.f&(nt|Bo))===0)try{ye(a)&&(dt(a),a.deps===null&&a.first===null&&a.nodes_start===null&&(a.teardown===null?Ea(a):a.fn=null))}catch(n){ct(n,a,null,a.ctx)}}}function _t(o){wt||(wt=!0,queueMicrotask(Nr));for(var e=ot=o;e.parent!==null;){e=e.parent;var t=e.f;if((t&(be|Uo))!==0){if((t&uo)===0)return;e.f^=uo}}Ge.push(e)}function Ar(o){for(var e=[],t=o;t!==null;){var a=t.f,n=(a&(Uo|be))!==0,r=n&&(a&uo)!==0;if(!r&&(a&Bo)===0){if((a&sa)!==0)e.push(t);else if(n)t.f^=uo;else try{ye(t)&&dt(t)}catch(l){ct(l,t,null,t.ctx)}var d=t.first;if(d!==null){t=d;continue}}var u=t.parent;for(t=t.next;t===null&&u!==null;)t=u.next,u=u.parent}return e}function c(o){var e=o.f,t=(e&No)!==0;if(I!==null&&!qo){if(!(lo!=null&&lo.includes(o))){var a=I.deps;o.rv<et&&(o.rv=et,io===null&&a!==null&&a[go]===o?go++:io===null?io=[o]:(!Yo||!io.includes(o))&&io.push(o))}}else if(t&&o.deps===null&&o.effects===null){var n=o,r=n.parent;r!==null&&(r.f&bo)===0&&(n.f^=bo)}return t&&(n=o,ye(n)&&va(n)),qe&&De.has(o)?De.get(o):o.v}function Oe(o){var e=qo;try{return qo=!0,o()}finally{qo=e}}const Dr=-7169;function Eo(o,e){o.f=o.f&Dr|e}function jo(o){if(!(typeof o!="object"||!o||o instanceof EventTarget)){if(se in o)Et(o);else if(!Array.isArray(o))for(let e in o){const t=o[e];typeof t=="object"&&t&&se in t&&Et(t)}}}function Et(o,e=new Set){if(typeof o=="object"&&o!==null&&!(o instanceof EventTarget)&&!e.has(o)){e.add(o),o instanceof Date&&o.getTime();for(let a in o)try{Et(o[a],e)}catch{}const t=Lt(o);if(t!==Object.prototype&&t!==Array.prototype&&t!==Map.prototype&&t!==Set.prototype&&t!==Date.prototype){const a=ia(t);for(let n in a){const r=a[n].get;if(r)try{r.call(o)}catch{}}}}}const Rr=["touchstart","touchmove"];function Sr(o){return Rr.includes(o)}function Tr(o){var e=I,t=F;ko(null),Qo(null);try{return o()}finally{ko(e),Qo(t)}}const qr=new Set,Kt=new Set;function Or(o,e,t,a={}){function n(r){if(a.capture||Ae.call(e,r),!r.cancelBubble)return Tr(()=>t==null?void 0:t.call(this,r))}return o.startsWith("pointer")||o.startsWith("touch")||o==="wheel"?Vt(()=>{e.addEventListener(o,n,a)}):e.addEventListener(o,n,a),n}function gt(o,e,t,a,n){var r={capture:a,passive:n},d=Or(o,e,t,r);(e===document.body||e===window||e===document)&&kt(()=>{e.removeEventListener(o,d,r)})}function Ae(o){var H;var e=this,t=e.ownerDocument,a=o.type,n=((H=o.composedPath)==null?void 0:H.call(o))||[],r=n[0]||o.target,d=0,u=o.__root;if(u){var l=n.indexOf(u);if(l!==-1&&(e===document||e===window)){o.__root=e;return}var i=n.indexOf(e);if(i===-1)return;l<=i&&(d=l)}if(r=n[d]||o.target,r!==e){na(o,"currentTarget",{configurable:!0,get(){return r||t}});var p=I,_=F;ko(null),Qo(null);try{for(var s,m=[];r!==null;){var v=r.assignedSlot||r.parentNode||r.host||null;try{var w=r["__"+a];if(w!=null&&(!r.disabled||o.target===r))if(Ct(w)){var[R,...b]=w;R.apply(r,[o,...b])}else w.call(r,o)}catch(V){s?m.push(V):s=V}if(o.cancelBubble||v===e||v===null)break;r=v}if(s){for(let V of m)queueMicrotask(()=>{throw V});throw s}}finally{o.__root=e,delete o.currentTarget,ko(p),Qo(_)}}}function kr(o){var e=document.createElement("template");return e.innerHTML=o,e.content}function at(o,e){var t=F;t.nodes_start===null&&(t.nodes_start=o,t.nodes_end=e)}function N(o,e){var t=(e&ir)!==0,a=(e&sr)!==0,n,r=!o.startsWith("<!>");return()=>{n===void 0&&(n=kr(r?o:"<!>"+o),t||(n=Ke(n)));var d=a||ga?document.importNode(n,!0):n.cloneNode(!0);if(t){var u=Ke(d),l=d.lastChild;at(u,l)}else at(d,d);return d}}function Pr(o=""){{var e=st(o+"");return at(e,e),e}}function Qt(){var o=document.createDocumentFragment(),e=document.createComment(""),t=st();return o.append(e,t),at(e,t),o}function $(o,e){o!==null&&o.before(e)}function y(o,e){var t=e==null?"":typeof e=="object"?e+"":e;t!==(o.__t??(o.__t=o.nodeValue))&&(o.__t=t,o.nodeValue=t+"")}function Ir(o,e){return Fr(o,e)}const pe=new Map;function Fr(o,{target:e,anchor:t,props:a={},events:n,context:r,intro:d=!0}){_r();var u=new Set,l=_=>{for(var s=0;s<_.length;s++){var m=_[s];if(!u.has(m)){u.add(m);var v=Sr(m);e.addEventListener(m,Ae,{passive:v});var w=pe.get(m);w===void 0?(document.addEventListener(m,Ae,{passive:v}),pe.set(m,1)):pe.set(m,w+1)}}};l(Nt(qr)),Kt.add(l);var i=void 0,p=mr(()=>{var _=t??e.appendChild(st());return Se(()=>{if(r){Tt({});var s=z;s.c=r}n&&(a.$$events=n),i=o(_,a)||{},r&&qt()}),()=>{var v;for(var s of u){e.removeEventListener(s,Ae);var m=pe.get(s);--m===0?(document.removeEventListener(s,Ae),pe.delete(s)):pe.set(s,m)}Kt.delete(l),_!==t&&((v=_.parentNode)==null||v.removeChild(_))}});return Vr.set(i,p),i}let Vr=new WeakMap;function B(o,e,[t,a]=[0,0]){var n=o,r=null,d=null,u=fo,l=t>0?Dt:0,i=!1;const p=(s,m=!0)=>{i=!0,_(m,s)},_=(s,m)=>{u!==(u=s)&&(u?(r?Xe(r):m&&(r=Se(()=>m(n))),d&&Qe(d,()=>{d=null})):(d?Xe(d):m&&(d=Se(()=>m(n,[t+1,a]))),r&&Qe(r,()=>{r=null})))};It(()=>{i=!1,e(p),i||_(null,null)},l)}function ze(o,e){return e}function Mr(o,e,t,a){for(var n=[],r=e.length,d=0;d<r;d++)Ft(e[d].e,n,!0);var u=r>0&&n.length===0&&t!==null;if(u){var l=t.parentNode;pr(l),l.append(t),a.clear(),Go(o,e[0].prev,e[r-1].next)}$a(n,()=>{for(var i=0;i<r;i++){var p=e[i];u||(a.delete(p.k),Go(o,p.prev,p.next)),Ko(p.e,!u)}})}function mo(o,e,t,a,n,r=null){var d=o,u={flags:e,items:new Map,first:null},l=(e&_a)!==0;if(l){var i=o;d=i.appendChild(st())}var p=null,_=!1,s=ie(()=>{var m=t();return Ct(m)?m:m==null?[]:Nt(m)});It(()=>{var m=c(s),v=m.length;_&&v===0||(_=v===0,jr(m,u,d,n,e,a,t),r!==null&&(v===0?p?Xe(p):p=Se(()=>r(d)):p!==null&&Qe(p,()=>{p=null})),c(s))})}function jr(o,e,t,a,n,r,d){var Io,zo,Lo,ke;var u=(n&ar)!==0,l=(n&(Rt|St))!==0,i=o.length,p=e.items,_=e.first,s=_,m,v=null,w,R=[],b=[],H,V,C,x;if(u)for(x=0;x<i;x+=1)H=o[x],V=r(H,x),C=p.get(V),C!==void 0&&((Io=C.a)==null||Io.measure(),(w??(w=new Set)).add(C));for(x=0;x<i;x+=1){if(H=o[x],V=r(H,x),C=p.get(V),C===void 0){var M=s?s.e.nodes_start:t;v=Ur(M,e,v,v===null?e.first:v.next,H,V,x,a,n,d),p.set(V,v),R=[],b=[],s=v.next;continue}if(l&&Br(C,H,x,n),(C.e.f&Bo)!==0&&(Xe(C.e),u&&((zo=C.a)==null||zo.unfix(),(w??(w=new Set)).delete(C))),C!==s){if(m!==void 0&&m.has(C)){if(R.length<b.length){var S=b[0],T;v=S.prev;var D=R[0],q=R[R.length-1];for(T=0;T<R.length;T+=1)Xt(R[T],S,t);for(T=0;T<b.length;T+=1)m.delete(b[T]);Go(e,D.prev,q.next),Go(e,v,D),Go(e,q,S),s=S,v=q,x-=1,R=[],b=[]}else m.delete(C),Xt(C,s,t),Go(e,C.prev,C.next),Go(e,C,v===null?e.first:v.next),Go(e,v,C),v=C;continue}for(R=[],b=[];s!==null&&s.k!==V;)(s.e.f&Bo)===0&&(m??(m=new Set)).add(s),b.push(s),s=s.next;if(s===null)continue;C=s}R.push(C),v=C,s=C.next}if(s!==null||m!==void 0){for(var j=m===void 0?[]:Nt(m);s!==null;)(s.e.f&Bo)===0&&j.push(s),s=s.next;var oo=j.length;if(oo>0){var Po=(n&_a)!==0&&i===0?t:null;if(u){for(x=0;x<oo;x+=1)(Lo=j[x].a)==null||Lo.measure();for(x=0;x<oo;x+=1)(ke=j[x].a)==null||ke.fix()}Mr(e,j,Po,p)}}u&&Vt(()=>{var Pe;if(w!==void 0)for(C of w)(Pe=C.a)==null||Pe.apply()}),F.first=e.first&&e.first.e,F.last=v&&v.e}function Br(o,e,t,a){(a&Rt)!==0&&yt(o.v,e),(a&St)!==0?yt(o.i,t):o.i=t}function Ur(o,e,t,a,n,r,d,u,l,i){var p=(l&Rt)!==0,_=(l&rr)===0,s=p?_?ho(n):Re(n):n,m=(l&St)===0?d:Re(d),v={i:m,v:s,k:r,a:null,e:null,prev:t,next:a};try{return v.e=Se(()=>u(o,s,m,i),dr),v.e.prev=t&&t.e,v.e.next=a&&a.e,t===null?e.first=v:(t.next=v,t.e.next=v.e),a!==null&&(a.prev=v,a.e.prev=v.e),v}finally{}}function Xt(o,e,t){for(var a=o.next?o.next.e.nodes_start:t,n=e?e.e.nodes_start:t,r=o.e.nodes_start;r!==a;){var d=lt(r);n.before(r),r=d}}function Go(o,e,t){e===null?o.first=t:(e.next=t,e.e.next=t&&t.e),t!==null&&(t.prev=e,t.e.prev=e&&e.e)}function Ra(o){var e,t,a="";if(typeof o=="string"||typeof o=="number")a+=o;else if(typeof o=="object")if(Array.isArray(o)){var n=o.length;for(e=0;e<n;e++)o[e]&&(t=Ra(o[e]))&&(a&&(a+=" "),a+=t)}else for(t in o)o[t]&&(a&&(a+=" "),a+=t);return a}function zr(){for(var o,e,t=0,a="",n=arguments.length;t<n;t++)(o=arguments[t])&&(e=Ra(o))&&(a&&(a+=" "),a+=e);return a}function Zt(o){return typeof o=="object"?zr(o):o??""}function Hr(o,e,t){var a=o==null?"":""+o;return a===""?null:a}function oa(o,e,t,a,n,r){var d=o.__className;if(d!==t||d===void 0){var u=Hr(t);u==null?o.removeAttribute("class"):o.className=u,o.__className=t}return r}const Jr=Symbol("is custom element"),Gr=Symbol("is html");function po(o,e,t,a){var n=Wr(o);n[e]!==(n[e]=t)&&(t==null?o.removeAttribute(e):typeof t!="string"&&Yr(o).includes(e)?o[e]=t:o.setAttribute(e,t))}function Wr(o){return o.__attributes??(o.__attributes={[Jr]:o.nodeName.includes("-"),[Gr]:o.namespaceURI===lr})}var ea=new Map;function Yr(o){var e=ea.get(o.nodeName);if(e)return e;ea.set(o.nodeName,e=[]);for(var t,a=o,n=Element.prototype;n!==a;){t=ia(a);for(var r in t)t[r].set&&e.push(r);a=Lt(a)}return e}function ta(o,e){return o===e||(o==null?void 0:o[se])===e}function Kr(o={},e,t,a){return Pt(()=>{var n,r;return ut(()=>{n=r,r=[],Oe(()=>{o!==t(...r)&&(e(o,...r),n&&ta(t(...n),o)&&e(null,...n))})}),()=>{Vt(()=>{r&&ta(t(...r),o)&&e(null,...r)})}}),o}function Sa(o=!1){const e=z,t=e.l.u;if(!t)return;let a=()=>jo(e.s);if(o){let n=0,r={};const d=Ot(()=>{let u=!1;const l=e.s;for(const i in l)l[i]!==r[i]&&(r[i]=l[i],u=!0);return u&&n++,n});a=()=>c(d)}t.b.length&&vr(()=>{aa(e,a),bt(t.b)}),Gt(()=>{const n=Oe(()=>t.m.map(Ua));return()=>{for(const r of n)typeof r=="function"&&r()}}),t.a.length&&Gt(()=>{aa(e,a),bt(t.a)})}function aa(o,e){if(o.l.s)for(const t of o.l.s)c(t);e()}function Ta(o,e,t){if(o==null)return e(void 0),ge;const a=Oe(()=>o.subscribe(e,t));return a.unsubscribe?()=>a.unsubscribe():a}const fe=[];function Qr(o,e=ge){let t=null;const a=new Set;function n(u){if(ca(o,u)&&(o=u,t)){const l=!fe.length;for(const i of a)i[1](),fe.push(i,o);if(l){for(let i=0;i<fe.length;i+=2)fe[i][0](fe[i+1]);fe.length=0}}}function r(u){n(u(o))}function d(u,l=ge){const i=[u,l];return a.add(i),a.size===1&&(t=e(n,r)||ge),u(o),()=>{a.delete(i),a.size===0&&t&&(t(),t=null)}}return{set:n,update:r,subscribe:d}}function Xr(o){let e;return Ta(o,t=>e=t)(),e}let He=!1,$t=Symbol();function Zr(o,e,t){const a=t[e]??(t[e]={store:null,source:ho(void 0),unsubscribe:ge});if(a.store!==o&&!($t in t))if(a.unsubscribe(),a.store=o??null,o==null)a.source.v=void 0,a.unsubscribe=ge;else{var n=!0;a.unsubscribe=Ta(o,r=>{n?a.source.v=r:U(a.source,r)}),n=!1}return o&&$t in t?Xr(o):c(a.source)}function on(){const o={};function e(){kt(()=>{for(var t in o)o[t].unsubscribe();na(o,$t,{enumerable:!1,value:!0})})}return[o,e]}function en(o){var e=He;try{return He=!1,[o(),He]}finally{He=e}}function tn(o,e,t,a){var m;var n=!Te||(t&nr)!==0,r=!1,d;[d,r]=en(()=>o[e]);var u=se in o||Ga in o;((m=me(o,e))==null?void 0:m.set)??(u&&e in o);var l=a,i=!0,p=()=>(i&&(i=!1,l=a),l),_;if(n)_=()=>{var v=o[e];return v===void 0?p():(i=!0,v)};else{var s=ie(()=>o[e]);s.f|=Ha,_=()=>{var v=c(s);return v!==void 0&&(l=void 0),v===void 0?l:v}}return _}const an="5";var ra;typeof window<"u"&&((ra=window.__svelte??(window.__svelte={})).v??(ra.v=new Set)).add(an);tr();var he,Wo,so,qa,Oa,ka,ne;class rn{constructor(){Ue(this,so);Ue(this,he,{"001":"Banco do Brasil","033":"Santander",104:"Caixa Econômica Federal",237:"Bradesco",341:"Itaú",756:"Sicoob",748:"Sicredi"});Ue(this,Wo,{});So(this,so,qa).call(this)}parse(e){if(!e||typeof e!="string")throw new Error("Conteúdo de arquivo inválido fornecido. Esperado uma string não vazia.");const t=So(this,so,Oa).call(this,e),a=t.substring(0,3);if(!Mo(this,he)[a])throw new Error(`Código de banco não suportado: ${a}`);if(!Mo(this,Wo)[a])throw new Error(`Layout não encontrado para o código de banco: ${a}`);const n=Mo(this,he)[a],r=Mo(this,Wo)[a],d=So(this,so,ka).call(this,t),u=t.split(d);let l;d===`\r
`?l="CRLF (Windows)":d===`
`?l="LF (Unix)":d==="\r"?l="CR (Old Mac)":l="Desconhecido";const i={bank_code:a,bank_name:n,header_arquivo:null,lotes:{},trailer_arquivo:null,warnings:[],errors:[],file_info:{total_lines_read:u.length,non_empty_lines:0,detected_line_ending:l}};let p=null,_=null,s=0,m=!1,v=null;return u.forEach((w,R)=>{const b=R+1;if(w.trim()===""){b<u.length&&i.warnings.push(`Linha ${b}: Linha vazia encontrada.`);return}i.file_info.non_empty_lines++;const H=w.length;if(H!==240){const V=`Linha ${b}: Tamanho inválido (${H} caracteres, esperado 240).`;i.errors.push(V),console.error(V);return}try{const V=w.substring(7,8),C=w.substring(3,7);switch(V){case"0":{i.header_arquivo&&i.warnings.push(`Linha ${b}: Header de Arquivo duplicado encontrado.`);const x=So(this,so,ne).call(this,w,"header_arquivo",r);i.header_arquivo=x.data,i.header_arquivo._lineNumber=b,x.warnings.length>0&&i.warnings.push(...x.warnings.map(M=>`Linha ${b} (Header Arq): ${M}`));break}case"1":{p=parseInt(C,10),(isNaN(p)||p<=0)&&(i.warnings.push(`Linha ${b}: Número de Lote inválido '${C}' no Header de Lote.`),p=`invalid_${C||"empty"}`),i.lotes[p]?i.warnings.push(`Linha ${b}: Header duplicado para Lote ${p}.`):i.lotes[p]={header_lote:null,detalhes_agrupados:[],trailer_lote:null,_startLine:b};const x=So(this,so,ne).call(this,w,"header_lote",r);i.lotes[p].header_lote=x.data,i.lotes[p].header_lote._lineNumber=b,x.warnings.length>0&&i.warnings.push(...x.warnings.map(M=>`Linha ${b} (Header Lote ${p}): ${M}`)),s=0,_=null;break}case"3":{if(p===null||!i.lotes[p]){i.errors.push(`Linha ${b}: Segmento Detalhe encontrado fora de um Lote válido.`),m=!1,v=null;break}const x=w.substring(13,14).toUpperCase(),M=w.substring(15,17);let S,T,D=!1;if(a==="341"&&x==="J"&&M==="00"&&(D=!0),D){if(m?S="detalhe_segmento_j_itau_ret_p2":S="detalhe_segmento_j_itau_ret_p1",!r[S]){i.warnings.push(`Linha ${b}: Definição de layout faltando para Itaú J '${S}'. Pulando linha.`),m=!1,v=null;break}const q=So(this,so,ne).call(this,w,S,r),j=q.data;j._lineNumber=b,q.warnings.length>0&&i.warnings.push(...q.warnings.map(oo=>`Linha ${b} (${S.replace("detalhe_","")}): ${oo}`)),S==="detalhe_segmento_j_itau_ret_p1"?(v=j,m=!0):S==="detalhe_segmento_j_itau_ret_p2"&&v?(_={segmento_j_itau_ret_p1:v,segmento_j_itau_ret_p2:j},i.lotes[p].detalhes_agrupados[s]=_,s++,v=null,m=!1,_=null):S==="detalhe_segmento_j_itau_ret_p2"&&!v&&(i.warnings.push(`Linha ${b}: Encontrado Itaú J Parte 2 sem uma Parte 1 correspondente. Adicionando como grupo incompleto.`),_={segmento_j_itau_ret_p2:j,_incomplete_group:!0},i.lotes[p].detalhes_agrupados[s]=_,s++,m=!1,_=null)}else{if(x==="J"&&M==="52")S="detalhe_segmento_j52",T="segmento_j52";else{const oo=x.toLowerCase();S=`detalhe_segmento_${oo}`,T=`segmento_${oo}`,M&&M!=="00"&&!(x==="J"&&M==="52")&&(T+=M)}if(!r[S]){i.warnings.push(`Linha ${b}: Definição de layout faltando para '${S}'. Pulando linha.`);break}const q=So(this,so,ne).call(this,w,S,r),j=q.data;j._lineNumber=b,q.warnings.length>0&&i.warnings.push(...q.warnings.map(oo=>`Linha ${b} (${S.replace("detalhe_","")}): ${oo}`)),["A","P"].includes(x)||x==="J"&&M!=="52"?(_={[T]:j},i.lotes[p].detalhes_agrupados[s]=_,s++):_?(_[T]=j,(["B","C","Q","R"].includes(x)||x==="J"&&M==="52")&&(_=null)):(i.warnings.push(`Linha ${b}: Segmento '${T}' encontrado fora de sequência esperada. Colocando em novo grupo.`),_={[T]:j,_incomplete_group:!0},i.lotes[p].detalhes_agrupados[s]=_,s++,_=null)}break}case"5":{const x=parseInt(C,10);if(isNaN(x)||!i.lotes[x])i.errors.push(`Linha ${b}: Trailer de Lote encontrado para Lote inválido ou inexistente '${C}'.`);else{i.lotes[x].trailer_lote&&i.warnings.push(`Linha ${b}: Trailer duplicado para Lote ${x}.`);const M=So(this,so,ne).call(this,w,"trailer_lote",r);i.lotes[x].trailer_lote=M.data,i.lotes[x].trailer_lote._lineNumber=b,i.lotes[x]._endLine=b,M.warnings.length>0&&i.warnings.push(...M.warnings.map(D=>`Linha ${b} (Trailer Lote ${x}): ${D}`));const S=i.lotes[x].detalhes_agrupados.reduce((D,q)=>D+Object.keys(q).filter(j=>!j.startsWith("_")).length,0)+2,T=parseInt(i.lotes[x].trailer_lote.quantidade_registros,10);!isNaN(T)&&T!==S&&i.warnings.push(`Lote ${x}: Divergência na contagem de registros. Trailer informa ${T}, encontrados ${S}.`),p=null,_=null}break}case"9":{i.trailer_arquivo&&i.warnings.push(`Linha ${b}: Trailer de Arquivo duplicado encontrado.`);const x=So(this,so,ne).call(this,w,"trailer_arquivo",r);i.trailer_arquivo=x.data,i.trailer_arquivo._lineNumber=b,x.warnings.length>0&&i.warnings.push(...x.warnings.map(D=>`Linha ${b} (Trailer Arq): ${D}`));const M=Object.keys(i.lotes).length,S=parseInt(i.trailer_arquivo.quantidade_lotes,10),T=parseInt(i.trailer_arquivo.quantidade_registros,10);!isNaN(S)&&S!==M&&i.warnings.push(`Trailer Arquivo: Divergência na contagem de lotes. Trailer informa ${S}, encontrados ${M}.`),!isNaN(T)&&T!==i.file_info.non_empty_lines&&i.warnings.push(`Trailer Arquivo: Divergência na contagem de registros. Trailer informa ${T}, encontradas ${i.file_info.non_empty_lines} linhas não vazias.`);break}default:i.warnings.push(`Linha ${b}: Tipo de Registro desconhecido '${V}'.`),i.unknown_lines||(i.unknown_lines=[]),i.unknown_lines.push({lineNumber:b,content:w})}}catch(V){const C=`Erro processando linha ${b}: ${V.message}`;i.errors.push(C),console.error(C,V)}}),p!==null&&i.lotes[p]&&!i.lotes[p].trailer_lote&&i.warnings.push(`Arquivo finalizado, mas o Lote ${p} está sem Trailer (Registro 5).`),i.header_arquivo||i.errors.push("Header de Arquivo (Registro 0) não encontrado."),i.trailer_arquivo||i.errors.push("Trailer de Arquivo (Registro 9) não encontrado."),i}}he=new WeakMap,Wo=new WeakMap,so=new WeakSet,qa=function(){const e={header_arquivo:{codigo_banco:{pos:[1,3],tipo:"num"},lote_servico:{pos:[4,7],tipo:"num"},tipo_registro:{pos:[8,8],tipo:"num"},uso_exclusivo_febraban_1:{pos:[9,17],tipo:"alfa"},tipo_inscricao:{pos:[18,18],tipo:"num"},numero_inscricao:{pos:[19,32],tipo:"num"},codigo_convenio:{pos:[33,52],tipo:"alfa"},agencia:{pos:[53,57],tipo:"num"},digito_agencia:{pos:[58,58],tipo:"alfa"},conta:{pos:[59,70],tipo:"num"},digito_conta:{pos:[71,71],tipo:"alfa"},digito_ag_conta:{pos:[72,72],tipo:"alfa"},nome_empresa:{pos:[73,102],tipo:"alfa"},nome_banco:{pos:[103,132],tipo:"alfa"},uso_exclusivo_febraban_2:{pos:[133,142],tipo:"alfa"},codigo_remessa:{pos:[143,143],tipo:"num"},data_geracao:{pos:[144,151],tipo:"data"},hora_geracao:{pos:[152,157],tipo:"time"},numero_sequencial:{pos:[158,163],tipo:"num"},versao_layout:{pos:[164,166],tipo:"num"},densidade_gravacao:{pos:[167,171],tipo:"num"},uso_reservado_banco:{pos:[172,191],tipo:"alfa"},uso_reservado_empresa:{pos:[192,211],tipo:"alfa"},uso_exclusivo_febraban_3:{pos:[212,240],tipo:"alfa"}},header_lote:{codigo_banco:{pos:[1,3],tipo:"num"},lote_servico:{pos:[4,7],tipo:"num"},tipo_registro:{pos:[8,8],tipo:"num"},tipo_operacao:{pos:[9,9],tipo:"alfa"},tipo_servico:{pos:[10,11],tipo:"num"},uso_exclusivo_febraban_1:{pos:[12,13],tipo:"alfa"},versao_layout_lote:{pos:[14,16],tipo:"num"},uso_exclusivo_febraban_2:{pos:[17,17],tipo:"alfa"},tipo_inscricao:{pos:[18,18],tipo:"num"},numero_inscricao:{pos:[19,32],tipo:"num"},codigo_convenio:{pos:[33,52],tipo:"alfa"},agencia:{pos:[53,57],tipo:"num"},digito_agencia:{pos:[58,58],tipo:"alfa"},conta:{pos:[59,70],tipo:"num"},digito_conta:{pos:[71,71],tipo:"alfa"},digito_ag_conta:{pos:[72,72],tipo:"alfa"},nome_empresa:{pos:[73,102],tipo:"alfa"},mensagem:{pos:[103,142],tipo:"alfa"},logradouro:{pos:[143,172],tipo:"alfa"},numero:{pos:[173,177],tipo:"num"},complemento:{pos:[178,192],tipo:"alfa"},cidade:{pos:[193,212],tipo:"alfa"},cep:{pos:[213,217],tipo:"num"},complemento_cep:{pos:[218,220],tipo:"alfa"},estado:{pos:[221,222],tipo:"alfa"},uso_exclusivo_febraban_3:{pos:[223,230],tipo:"alfa"},ocorrencias:{pos:[231,240],tipo:"alfa"}},detalhe_segmento_a:{codigo_banco:{pos:[1,3],tipo:"num"},lote_servico:{pos:[4,7],tipo:"num"},tipo_registro:{pos:[8,8],tipo:"num"},numero_registro:{pos:[9,13],tipo:"num"},segmento:{pos:[14,14],tipo:"alfa"},tipo_movimento:{pos:[15,15],tipo:"num"},codigo_movimento:{pos:[16,17],tipo:"num"},codigo_camara:{pos:[18,20],tipo:"num"},codigo_banco_favorecido:{pos:[21,23],tipo:"num"},agencia_favorecido:{pos:[24,28],tipo:"num"},digito_agencia_favorecido:{pos:[29,29],tipo:"alfa"},conta_favorecido:{pos:[30,41],tipo:"num"},digito_conta_favorecido:{pos:[42,42],tipo:"alfa"},digito_ag_conta_favorecido:{pos:[43,43],tipo:"alfa"},nome_favorecido:{pos:[44,73],tipo:"alfa"},numero_documento:{pos:[74,93],tipo:"alfa"},data_pagamento:{pos:[94,101],tipo:"data"},tipo_moeda:{pos:[102,104],tipo:"alfa"},quantidade_moeda:{pos:[105,119],tipo:"decimal",casas:5},valor_pagamento:{pos:[120,134],tipo:"decimal",casas:2},nosso_numero:{pos:[135,154],tipo:"alfa"},data_real_pagamento:{pos:[155,162],tipo:"data"},valor_real_pagamento:{pos:[163,177],tipo:"decimal",casas:2},informacao_complementar:{pos:[178,217],tipo:"alfa"},complemento_finalidade:{pos:[218,219],tipo:"alfa"},finalidade_ted:{pos:[220,224],tipo:"alfa"},finalidade_doc:{pos:[225,226],tipo:"alfa"},uso_exclusivo_cnab:{pos:[227,229],tipo:"alfa"},aviso_favorecido:{pos:[230,230],tipo:"num"},ocorrencias:{pos:[231,240],tipo:"alfa"}},detalhe_segmento_b:{codigo_banco:{pos:[1,3],tipo:"num"},lote_servico:{pos:[4,7],tipo:"num"},tipo_registro:{pos:[8,8],tipo:"num"},numero_registro:{pos:[9,13],tipo:"num"},segmento:{pos:[14,14],tipo:"alfa"},uso_exclusivo_cnab1:{pos:[15,17],tipo:"alfa"},tipo_inscricao_favorecido:{pos:[18,18],tipo:"num"},numero_inscricao_favorecido:{pos:[19,32],tipo:"num"},endereco_logradouro:{pos:[33,62],tipo:"alfa"},endereco_numero:{pos:[63,67],tipo:"num"},endereco_complemento:{pos:[68,82],tipo:"alfa"},endereco_bairro:{pos:[83,97],tipo:"alfa"},endereco_cidade:{pos:[98,117],tipo:"alfa"},endereco_cep:{pos:[118,122],tipo:"num"},endereco_complemento_cep:{pos:[123,125],tipo:"alfa"},endereco_estado:{pos:[126,127],tipo:"alfa"},data_vencimento:{pos:[128,135],tipo:"data"},valor_documento:{pos:[136,150],tipo:"decimal",casas:2},valor_abatimento:{pos:[151,165],tipo:"decimal",casas:2},valor_desconto:{pos:[166,180],tipo:"decimal",casas:2},valor_mora:{pos:[181,195],tipo:"decimal",casas:2},valor_multa:{pos:[196,210],tipo:"decimal",casas:2},codigo_documento_favorecido:{pos:[211,225],tipo:"alfa"},aviso_favorecido:{pos:[226,226],tipo:"num"},codigo_ug_centralizadora:{pos:[227,232],tipo:"num"},uso_exclusivo_cnab2:{pos:[233,240],tipo:"alfa"}},detalhe_segmento_c:{codigo_banco:{pos:[1,3],tipo:"num"},lote_servico:{pos:[4,7],tipo:"num"},tipo_registro:{pos:[8,8],tipo:"num"},numero_registro:{pos:[9,13],tipo:"num"},segmento:{pos:[14,14],tipo:"alfa"},uso_exclusivo_cnab1:{pos:[15,17],tipo:"alfa"},valor_ir:{pos:[18,32],tipo:"decimal",casas:2},valor_iss:{pos:[33,47],tipo:"decimal",casas:2},valor_iof:{pos:[48,62],tipo:"decimal",casas:2},valor_outras_deducoes:{pos:[63,77],tipo:"decimal",casas:2},valor_outros_acrescimos:{pos:[78,92],tipo:"decimal",casas:2},agencia_favorecido_rateio:{pos:[93,97],tipo:"num"},digito_agencia_favorecido_rateio:{pos:[98,98],tipo:"alfa"},conta_favorecido_rateio:{pos:[99,110],tipo:"num"},digito_conta_favorecido_rateio:{pos:[111,111],tipo:"alfa"},digito_ag_conta_favorecido_rateio:{pos:[112,112],tipo:"alfa"},valor_inss:{pos:[113,127],tipo:"decimal",casas:2},uso_exclusivo_cnab2:{pos:[128,240],tipo:"alfa"}},detalhe_segmento_j:{codigo_banco:{pos:[1,3],tipo:"num"},lote_servico:{pos:[4,7],tipo:"num"},tipo_registro:{pos:[8,8],tipo:"num"},numero_registro:{pos:[9,13],tipo:"num"},segmento:{pos:[14,14],tipo:"alfa"},tipo_movimento:{pos:[15,15],tipo:"num"},codigo_movimento:{pos:[16,17],tipo:"num"},codigo_barras:{pos:[18,61],tipo:"alfa"},nome_beneficiario:{pos:[62,91],tipo:"alfa"},data_vencimento:{pos:[92,99],tipo:"data"},valor_titulo:{pos:[100,114],tipo:"decimal",casas:2},valor_desconto:{pos:[115,129],tipo:"decimal",casas:2},valor_acrescimo:{pos:[130,144],tipo:"decimal",casas:2},data_pagamento:{pos:[145,152],tipo:"data"},valor_pagamento:{pos:[153,167],tipo:"decimal",casas:2},quantidade_moeda:{pos:[168,182],tipo:"decimal",casas:5},referencia_sacado:{pos:[183,202],tipo:"alfa"},nosso_numero:{pos:[203,222],tipo:"alfa"},codigo_moeda:{pos:[223,224],tipo:"num"},uso_exclusivo_cnab1:{pos:[225,230],tipo:"alfa"},ocorrencias:{pos:[231,240],tipo:"alfa"}},detalhe_segmento_j52:{codigo_banco:{pos:[1,3],tipo:"num"},lote_servico:{pos:[4,7],tipo:"num"},tipo_registro:{pos:[8,8],tipo:"num"},numero_registro:{pos:[9,13],tipo:"num"},segmento:{pos:[14,14],tipo:"alfa"},uso_exclusivo_cnab1:{pos:[15,15],tipo:"alfa"},codigo_registro_opcional:{pos:[16,17],tipo:"num"},tipo_inscricao_pagador:{pos:[18,18],tipo:"num"},numero_inscricao_pagador:{pos:[19,33],tipo:"num"},nome_pagador:{pos:[34,73],tipo:"alfa"},tipo_inscricao_beneficiario:{pos:[74,74],tipo:"num"},numero_inscricao_beneficiario:{pos:[75,89],tipo:"num"},nome_beneficiario:{pos:[90,129],tipo:"alfa"},tipo_inscricao_sacador:{pos:[130,130],tipo:"num"},numero_inscricao_sacador:{pos:[131,145],tipo:"num"},nome_sacador:{pos:[146,185],tipo:"alfa"},uso_exclusivo_cnab2:{pos:[186,240],tipo:"alfa"}},detalhe_segmento_p:{codigo_banco:{pos:[1,3],tipo:"num"},lote_servico:{pos:[4,7],tipo:"num"},tipo_registro:{pos:[8,8],tipo:"num"},numero_registro:{pos:[9,13],tipo:"num"},segmento:{pos:[14,14],tipo:"alfa"},uso_exclusivo_febraban_1:{pos:[15,15],tipo:"alfa"},codigo_movimento:{pos:[16,17],tipo:"num"},agencia:{pos:[18,22],tipo:"num"},digito_agencia:{pos:[23,23],tipo:"alfa"},conta:{pos:[24,35],tipo:"num"},digito_conta:{pos:[36,36],tipo:"alfa"},digito_ag_conta:{pos:[37,37],tipo:"alfa"},nosso_numero:{pos:[38,57],tipo:"alfa"},codigo_carteira:{pos:[58,58],tipo:"num"},cadastramento:{pos:[59,59],tipo:"num"},documento:{pos:[60,60],tipo:"alfa"},emissao_boleto:{pos:[61,61],tipo:"num"},distribuicao_boleto:{pos:[62,62],tipo:"alfa"},numero_documento:{pos:[63,77],tipo:"alfa"},vencimento:{pos:[78,85],tipo:"data"},valor:{pos:[86,100],tipo:"decimal",casas:2},agencia_cobradora:{pos:[101,105],tipo:"num"},digito_ag_cobradora:{pos:[106,106],tipo:"alfa"},especie:{pos:[107,108],tipo:"num"},aceite:{pos:[109,109],tipo:"alfa"},data_emissao:{pos:[110,117],tipo:"data"},codigo_juros:{pos:[118,118],tipo:"num"},data_juros:{pos:[119,126],tipo:"data"},valor_juros:{pos:[127,141],tipo:"decimal",casas:2},codigo_desconto:{pos:[142,142],tipo:"num"},data_desconto:{pos:[143,150],tipo:"data"},valor_desconto:{pos:[151,165],tipo:"decimal",casas:2},valor_iof:{pos:[166,180],tipo:"decimal",casas:2},valor_abatimento:{pos:[181,195],tipo:"decimal",casas:2},uso_empresa:{pos:[196,220],tipo:"alfa"},codigo_protesto:{pos:[221,221],tipo:"num"},prazo_protesto:{pos:[222,223],tipo:"num"},codigo_baixa:{pos:[224,224],tipo:"num"},prazo_baixa:{pos:[225,227],tipo:"num"},codigo_moeda:{pos:[228,229],tipo:"num"},uso_exclusivo_banco:{pos:[230,239],tipo:"num"},uso_exclusivo_febraban_2:{pos:[240,240],tipo:"alfa"}},detalhe_segmento_q:{codigo_banco:{pos:[1,3],tipo:"num"},lote_servico:{pos:[4,7],tipo:"num"},tipo_registro:{pos:[8,8],tipo:"num"},numero_registro:{pos:[9,13],tipo:"num"},segmento:{pos:[14,14],tipo:"alfa"},uso_exclusivo_febraban_1:{pos:[15,15],tipo:"alfa"},codigo_movimento:{pos:[16,17],tipo:"num"},tipo_inscricao:{pos:[18,18],tipo:"num"},numero_inscricao:{pos:[19,33],tipo:"num"},nome:{pos:[34,73],tipo:"alfa"},logradouro:{pos:[74,113],tipo:"alfa"},bairro:{pos:[114,128],tipo:"alfa"},cep:{pos:[129,133],tipo:"num"},complemento_cep:{pos:[134,136],tipo:"alfa"},cidade:{pos:[137,151],tipo:"alfa"},estado:{pos:[152,153],tipo:"alfa"},sacador_tipo_inscricao:{pos:[154,154],tipo:"num"},sacador_numero_inscricao:{pos:[155,169],tipo:"num"},sacador_nome:{pos:[170,209],tipo:"alfa"},codigo_banco_correspondente:{pos:[210,212],tipo:"num"},nosso_numero_banco_correspondente:{pos:[213,232],tipo:"alfa"},uso_exclusivo_febraban_2:{pos:[233,240],tipo:"alfa"}},detalhe_segmento_r:{codigo_banco:{pos:[1,3],tipo:"num"},lote_servico:{pos:[4,7],tipo:"num"},tipo_registro:{pos:[8,8],tipo:"num"},numero_registro:{pos:[9,13],tipo:"num"},segmento:{pos:[14,14],tipo:"alfa"},uso_exclusivo_febraban_1:{pos:[15,15],tipo:"alfa"},codigo_movimento:{pos:[16,17],tipo:"num"},codigo_desconto_2:{pos:[18,18],tipo:"num"},data_desconto_2:{pos:[19,26],tipo:"data"},valor_desconto_2:{pos:[27,41],tipo:"decimal",casas:2},codigo_desconto_3:{pos:[42,42],tipo:"num"},data_desconto_3:{pos:[43,50],tipo:"data"},valor_desconto_3:{pos:[51,65],tipo:"decimal",casas:2},codigo_multa:{pos:[66,66],tipo:"num"},data_multa:{pos:[67,74],tipo:"data"},valor_multa:{pos:[75,89],tipo:"decimal",casas:2},informacao_pagador:{pos:[90,99],tipo:"alfa"},mensagem_3:{pos:[100,139],tipo:"alfa"},mensagem_4:{pos:[140,179],tipo:"alfa"},uso_exclusivo_banco:{pos:[180,199],tipo:"alfa"},codigo_ocorrencia_pagador:{pos:[200,207],tipo:"num"},uso_exclusivo_febraban_2:{pos:[208,240],tipo:"alfa"}},trailer_lote:{codigo_banco:{pos:[1,3],tipo:"num"},lote_servico:{pos:[4,7],tipo:"num"},tipo_registro:{pos:[8,8],tipo:"num"},uso_exclusivo_febraban_1:{pos:[9,17],tipo:"alfa"},quantidade_registros:{pos:[18,23],tipo:"num"},somatoria_valores:{pos:[24,41],tipo:"decimal",casas:2},somatoria_quantidade_moedas:{pos:[42,59],tipo:"decimal",casas:5},numero_aviso_debito:{pos:[60,65],tipo:"num"},uso_exclusivo_febraban_2:{pos:[66,230],tipo:"alfa"},ocorrencias:{pos:[231,240],tipo:"alfa"}},trailer_arquivo:{codigo_banco:{pos:[1,3],tipo:"num"},lote_servico:{pos:[4,7],tipo:"num"},tipo_registro:{pos:[8,8],tipo:"num"},uso_exclusivo_febraban_1:{pos:[9,17],tipo:"alfa"},quantidade_lotes:{pos:[18,23],tipo:"num"},quantidade_registros:{pos:[24,29],tipo:"num"},quantidade_contas_conciliadas:{pos:[30,35],tipo:"num"},uso_exclusivo_febraban_2:{pos:[36,240],tipo:"alfa"}}};for(const t in Mo(this,he))Mo(this,Wo)[t]=JSON.parse(JSON.stringify(e)),t==="341"&&(Mo(this,Wo)[t].detalhe_segmento_j_itau_ret_p1={codigo_banco:{pos:[1,3],tipo:"num"},lote_servico:{pos:[4,7],tipo:"num"},tipo_registro:{pos:[8,8],tipo:"num"},numero_registro:{pos:[9,13],tipo:"num"},segmento:{pos:[14,14],tipo:"alfa"},tipo_movimento:{pos:[15,15],tipo:"num"},codigo_movimento:{pos:[16,17],tipo:"num"},codigo_barras_ou_id_titulo:{pos:[18,61],tipo:"alfa"},nome_beneficiario_original:{pos:[62,91],tipo:"alfa"},data_vencimento_original:{pos:[92,99],tipo:"data"},valor_titulo_original:{pos:[100,114],tipo:"decimal",casas:2},valor_desconto_original:{pos:[115,129],tipo:"decimal",casas:2},valor_acrescimo_original:{pos:[130,144],tipo:"decimal",casas:2},data_ocorrencia_ou_credito:{pos:[145,152],tipo:"data"},valor_efetivamente_pago_ou_creditado:{pos:[153,167],tipo:"decimal",casas:2},quantidade_moeda_liquidada:{pos:[168,182],tipo:"decimal",casas:5},seu_numero_ou_ref_pagador:{pos:[183,202],tipo:"alfa"},nosso_numero_banco:{pos:[203,222],tipo:"alfa"},codigo_moeda:{pos:[223,224],tipo:"num"},uso_banco_ou_ocorrencias_p1:{pos:[225,240],tipo:"alfa"}},Mo(this,Wo)[t].detalhe_segmento_j_itau_ret_p2={codigo_banco:{pos:[1,3],tipo:"num"},lote_servico:{pos:[4,7],tipo:"num"},tipo_registro:{pos:[8,8],tipo:"num"},numero_registro:{pos:[9,13],tipo:"num"},segmento:{pos:[14,14],tipo:"alfa"},tipo_movimento_p2:{pos:[15,15],tipo:"num"},codigo_movimento_p2:{pos:[16,17],tipo:"num"},id_empresa_cedente_convenio:{pos:[18,35],tipo:"alfa"},nome_empresa_pagadora_ou_responsavel:{pos:[36,74],tipo:"alfa"},id_titulo_no_pagador:{pos:[75,91],tipo:"alfa"},nome_beneficiario_final_ou_sacado:{pos:[92,131],tipo:"alfa"},zeros_ou_data_pgto_p2:{pos:[132,139],tipo:"alfa"},zeros_ou_valor_pgto_p2:{pos:[140,154],tipo:"alfa"},filler_155_230:{pos:[155,230],tipo:"alfa"},ocorrencias_complementares:{pos:[231,240],tipo:"alfa"}})},Oa=function(e){return e.charCodeAt(0)===239&&e.charCodeAt(1)===187&&e.charCodeAt(2)===191?e.substring(3):e},ka=function(e){return e.includes(`\r
`)?`\r
`:e.includes(`
`)?`
`:e.includes("\r")?"\r":`
`},ne=function(e,t,a){if(!a||!a[t]){const u=RegExp(/^detalhe_segmento_([a-z0-9]+)$/i).exec(t);if(u){const l=u[1].toUpperCase();if(a[`detalhe_segmento_${l}`])t=`detalhe_segmento_${l}`;else throw new Error(`Definição de layout não encontrada para o tipo de registro: ${t} ou segmento base ${l}`)}else throw new Error(`Definição de layout não encontrada para o tipo de registro: ${t}`)}const n=a[t],r={},d=[];r._linha_original=e;for(const u in n){const l=n[u],i=l.pos[0]-1,p=l.pos[1];let _="";i>=0&&p<=e.length?_=e.substring(i,p):console.warn(`Campo '${u}' posição [${l.pos[0]}, ${l.pos[1]}] fora dos limites para linha de tamanho ${e.length}. Tipo de registro: ${t}`);const s=_;let m;try{switch(l.tipo){case"num":m=_.replace(/^0+/,"")||"0";break;case"decimal":{const v=l.casas??2,w=Math.pow(10,v);let R=_.replace(/^0+/,"")||"0";/^\d+$/.test(R.trim())?m=(parseFloat(R)/w).toFixed(v):(d.push(`Campo '${u}': Conteúdo não numérico ('${s}') encontrado em campo definido como 'decimal'.`),m=s);break}case"data":{const v=p-i;if(_&&_.length===v&&_!=="0".repeat(v)){const w=_.substring(0,2),R=_.substring(2,4),b=_.substring(4,8);/^\d+$/.test(w)&&/^\d+$/.test(R)&&/^\d+$/.test(b)?m=`${w}/${R}/${b}`:(d.push(`Campo '${u}': Conteúdo não numérico ('${s}') encontrado em campo definido como 'data'.`),m=s)}else m=null;break}case"time":{const v=p-i;if(_&&_.length===v&&_!=="0".repeat(v)){const w=_.substring(0,2),R=_.substring(2,4),b=_.substring(4,6);/^\d+$/.test(w)&&/^\d+$/.test(R)&&/^\d+$/.test(b)?m=`${w}:${R}:${b}`:(d.push(`Campo '${u}': Conteúdo não numérico ('${s}') encontrado em campo definido como 'time'.`),m=s)}else m=null;break}case"alfa":default:m=_;break}}catch(v){console.error(`Erro formatando campo '${u}' com valor '${s}' e tipo '${l.tipo}':`,v),d.push(`Campo '${u}': Erro inesperado durante formatação do valor '${s}' (Tipo: ${l.tipo}).`),m=s}r[u]=m,r[`${u}_original`]=s}return{data:r,warnings:d}};const nn=()=>{const{subscribe:o,set:e,update:t}=Qr({fileName:null,status:"idle",error:null,parsedResult:null}),a=new rn;return{subscribe:o,processCnabFile:async d=>{if(!d)return;t(l=>({...l,fileName:d.name,status:"loading",error:null,parsedResult:null}));const u=new FileReader;u.onload=l=>{try{const i=l.target.result;if(!i)throw new Error("O arquivo não contém nenhum dado ou não pode ser lido.");const p=a.parse(i);t(_=>{var s,m;return{..._,status:((s=p.errors)==null?void 0:s.length)>0?"error":"success",parsedResult:p,error:((m=p.errors)==null?void 0:m.length)>0?`Foi encontrado ${p.errors.length} erro(s) critícos durante o processamento. Verifique os detalhes.`:null}})}catch(i){console.error("Erro processando arquivo CNAB: ",i),t(p=>({...p,status:"error",error:`Processing error: ${i.message}`,parsedResult:null}))}},u.onerror=l=>{console.error("Erro lendo o arquivo: ",u.error),t(i=>{var p;return{...i,status:"error",error:`Erro ao ler o arquivo: ${((p=u.error)==null?void 0:p.message)||"Erro desconhecido de leitura"}`,parsedResult:null}})},u.readAsText(d,"ISO-8859-1")},reset:()=>{e({fileName:null,status:"idle",error:null,parsedResult:null})}}},ht=nn(),sn={codigo_banco:"Código do Banco",nome_banco:"Nome do Banco",lote_servico:"Lote de Serviço",tipo_registro:"Tipo de Registro",numero_registro:"Número do Registro",segmento:"Segmento",tipo_inscricao:"Tipo Inscrição",numero_inscricao:"Número Inscrição",nome_empresa:"Nome da Empresa",agencia:"Agência",digito_agencia:"Dígito Agência",conta:"Conta",digito_conta:"Dígito Conta",digito_ag_conta:"Dígito Ag/Conta",codigo_convenio:"Código Convênio",ocorrencias:"Ocorrências",quantidade_registros:"Qtd. Registros",quantidade_lotes:"Qtd. Lotes",quantidade_contas_conciliadas:"Qtd. Contas Concil.",somatoria_valores:"Somatória Valores",somatoria_quantidade_moedas:"Somatória Qtd. Moedas",valor:"Valor",data_pagamento:"Data Pagamento",data_vencimento:"Data Vencimento",valor_pagamento:"Valor Pagamento",valor_titulo:"Valor Título",nosso_numero:"Nosso Número",numero_documento:"Número Documento",codigo_movimento:"Código Movimento",tipo_movimento:"Tipo Movimento",nome_favorecido:"Nome Favorecido",nome_pagador:"Nome Pagador",nome_beneficiario:"Nome Beneficiário",nome_sacador:"Nome Sacador/Avalista",tipo_inscricao_favorecido:"Tipo Inscrição Favorecido",numero_inscricao_favorecido:"Número Inscrição Favorecido",tipo_inscricao_pagador:"Tipo Inscrição Pagador",numero_inscricao_pagador:"Número Inscrição Pagador",tipo_inscricao_beneficiario:"Tipo Inscrição Beneficiário",numero_inscricao_beneficiario:"Número Inscrição Beneficiário",tipo_inscricao_sacador:"Tipo Inscrição Sacador/Avalista",numero_inscricao_sacador:"Número Inscrição Sacador/Avalista",logradouro:"Logradouro",numero:"Número End.",complemento:"Complemento End.",bairro:"Bairro",cidade:"Cidade",estado:"UF",cep:"CEP",complemento_cep:"Compl. CEP",endereco_logradouro:"Logradouro Fav.",endereco_numero:"Número End. Fav.",endereco_complemento:"Complemento End. Fav.",endereco_bairro:"Bairro Fav.",endereco_cidade:"Cidade Fav.",endereco_cep:"CEP Fav.",endereco_complemento_cep:"Compl. CEP Fav.",endereco_estado:"UF Fav.",valor_desconto:"Valor Desconto",valor_multa:"Valor Multa",valor_abatimento:"Valor Abatimento",valor_mora:"Valor Mora",valor_juros:"Valor/Taxa Juros",valor_iof:"Valor IOF",codigo_moeda:"Código Moeda",quantidade_moeda:"Qtd. Moeda",aviso_favorecido:"Aviso Favorecido",codigo_remessa:"Código Remessa/Retorno",data_geracao:"Data Geração",hora_geracao:"Hora Geração",numero_sequencial:"Num. Seq. Arquivo",versao_layout:"Versão Layout Arq.",densidade_gravacao:"Densidade Gravação",tipo_operacao:"Tipo Operação",tipo_servico:"Tipo Serviço",versao_layout_lote:"Versão Layout Lote",mensagem:"Mensagem 1",codigo_camara:"Código Câmara Comp.",codigo_banco_favorecido:"Banco Favorecido",agencia_favorecido:"Agência Favorecido",digito_agencia_favorecido:"Dígito Ag. Fav.",conta_favorecido:"Conta Favorecido",digito_conta_favorecido:"Dígito Conta Fav.",digito_ag_conta_favorecido:"Dígito Ag/Conta Fav.",tipo_moeda:"Tipo Moeda",data_real_pagamento:"Data Real Pagamento",valor_real_pagamento:"Valor Real Pagamento",informacao_complementar:"Informação Comp. (Histórico)",complemento_finalidade:"Compl. Finalidade (SPB)",finalidade_ted:"Finalidade TED",finalidade_doc:"Finalidade DOC/Salário",valor_documento:"Valor Documento",codigo_documento_favorecido:"Cód. Doc. Favorecido (TED/DOC)",codigo_ug_centralizadora:"Cód. UG Centralizadora (SIAFI)",valor_ir:"Valor IR",valor_iss:"Valor ISS",valor_outras_deducoes:"Valor Outras Deduções",valor_outros_acrescimos:"Valor Outros Acréscimos",agencia_favorecido_rateio:"Ag. Rateio",digito_agencia_favorecido_rateio:"DV Ag. Rateio",conta_favorecido_rateio:"Conta Rateio",digito_conta_favorecido_rateio:"DV Conta Rateio",digito_ag_conta_favorecido_rateio:"DV Ag/Conta Rateio",valor_inss:"Valor INSS",codigo_barras:"Código de Barras",valor_acrescimo:"Valor Acréscimo",referencia_sacado:"Referência Sacado (Seu Número)",codigo_registro_opcional:"Cód. Reg. Opcional (52)",codigo_carteira:"Código Carteira",cadastramento:"Cadastramento",documento:"Tipo Documento",emissao_boleto:"Emissão Boleto",distribuicao_boleto:"Distribuição Boleto",agencia_cobradora:"Agência Cobradora",digito_ag_cobradora:"DV Ag. Cobradora",especie:"Espécie Título",aceite:"Aceite",data_emissao:"Data Emissão",codigo_juros:"Código Juros",data_juros:"Data Juros",codigo_desconto:"Código Desconto 1",data_desconto:"Data Desconto 1",uso_empresa:"Uso Empresa (Seu Número)",codigo_protesto:"Código Protesto",prazo_protesto:"Prazo Protesto",codigo_baixa:"Código Baixa/Devolução",prazo_baixa:"Prazo Baixa/Devolução",codigo_banco_correspondente:"Banco Correspondente",nosso_numero_banco_correspondente:"Nosso Num. Banco Corresp.",codigo_desconto_2:"Código Desconto 2",data_desconto_2:"Data Desconto 2",valor_desconto_2:"Valor/Taxa Desconto 2",codigo_desconto_3:"Código Desconto 3",data_desconto_3:"Data Desconto 3",valor_desconto_3:"Valor/Taxa Desconto 3",codigo_multa:"Código Multa",data_multa:"Data Multa",informacao_pagador:"Informação ao Pagador",mensagem_3:"Mensagem 3",mensagem_4:"Mensagem 4",codigo_ocorrencia_pagador:"Cód. Ocorr. Pagador (Ret.)",codigo_banco_pagador:"Banco Pagador (Ret.)",agencia_pagador:"Agência Pagador (Ret.)",digito_agencia_pagador:"DV Ag. Pagador (Ret.)",conta_pagador:"Conta Pagador (Ret.)",digito_conta_pagador:"DV Conta Pagador (Ret.)",digito_ag_conta_pagador:"DV Ag/Conta Pagador (Ret.)",numero_aviso_debito:"Num. Aviso Débito (Ret.)"};function Le(o){return sn[o]||o.replace(/_/g," ").replace(/\b\w/g,e=>e.toUpperCase())}var ln=N('<div class="p-4 bg-blue-50 border border-blue-200 rounded-md"><h4 class="text-lg font-semibold mb-2 text-blue-800">Informações do Banco</h4> <dl class="grid grid-cols-[auto,1fr] gap-x-4 gap-y-1 text-sm"><dt class="font-medium text-gray-500"> </dt> <dd class="text-gray-800"> </dd> <dt class="font-medium text-gray-500"> </dt> <dd class="text-gray-800"> </dd></dl></div>'),un=N('<div class="p-4 bg-gray-50 border border-gray-200 rounded-md"><h4 class="text-lg font-semibold mb-2 text-gray-700">Informações do Arquivo</h4> <dl class="grid grid-cols-[auto,1fr] gap-x-4 gap-y-1 text-sm"><dt class="font-medium text-gray-500">Linhas Lidas:</dt> <dd class="text-gray-800"> </dd> <dt class="font-medium text-gray-500">Linhas Não Vazias:</dt> <dd class="text-gray-800"> </dd> <dt class="font-medium text-gray-500">Quebra de Linha:</dt> <dd class="text-gray-800"> </dd> <dt class="font-medium text-gray-500">Erros Críticos:</dt> <dd> </dd> <dt class="font-medium text-gray-500">Avisos:</dt> <dd> </dd></dl></div>'),cn=N("<li> </li>"),dn=N('<div class="errors p-4 bg-red-50 border border-red-300 rounded-md"><h4 class="text-lg font-semibold mb-2 text-red-800"> </h4> <ul class="list-disc list-inside space-y-1 text-sm text-red-700"></ul></div>'),_n=N("<li> </li>"),pn=N('<div class="warnings p-4 bg-yellow-50 border border-yellow-300 rounded-md"><h4 class="text-lg font-semibold mb-2 text-yellow-800"> </h4> <ul class="list-disc list-inside space-y-1 text-sm text-yellow-700"></ul></div>'),fn=N("<li> </li>"),vn=N(`<div class="warnings p-4 bg-orange-50 border border-orange-300 rounded-md"><details><summary class="cursor-pointer text-orange-800"><h4 class="text-lg font-semibold inline"> </h4> <span class="text-sm ml-2">(Clique para expandir)</span></summary> <p class="text-xs text-orange-700 mt-2 italic">Estes avisos indicam que o arquivo contém segmentos (ex: G, H) que não
          estão definidos no layout atual do processador (<code class="text-xs">Cnab240Processor.js</code>). Os dados desses segmentos foram ignorados. Para processá-los, a
          definição do layout precisa ser adicionada ou atualizada.</p> <ul class="list-disc list-inside space-y-1 text-sm text-orange-700 mt-2 max-h-40 overflow-y-auto"></ul></details></div>`),mn=N('<dt class="font-medium text-gray-500 truncate"> </dt> <dd class="text-gray-800 break-words"> </dd>',1),gn=N('<details class="text-xs p-2 bg-gray-50 border-t border-gray-200"><summary class="cursor-pointer text-gray-500">Ver linha original</summary> <pre class="mt-1 font-mono bg-white p-1 border rounded overflow-x-auto"><code> </code></pre></details>'),hn=N('<div class="segment border border-gray-200 rounded-md overflow-hidden"><h4 class="text-lg font-semibold p-3 bg-gray-100 border-b border-gray-200 text-gray-700 flex justify-between items-center"><span>Header de Arquivo (Registro 0)</span> <span class="text-xs font-normal text-gray-500"> </span></h4> <dl class="p-3 grid grid-cols-[auto,1fr] gap-x-4 gap-y-1 text-sm"></dl> <!></div>'),bn=N('<dt class="font-medium text-gray-500 truncate"> </dt> <dd class="text-gray-800 break-words"> </dd>',1),xn=N('<details class="text-xs mt-1"><summary class="cursor-pointer text-gray-500">Ver linha original</summary> <pre class="mt-1 font-mono bg-white p-1 border rounded overflow-x-auto"><code> </code></pre></details>'),yn=N('<div class="sub-segment border-l-4 border-blue-200 pl-4 py-2"><h5 class="font-semibold mb-1 text-blue-800 flex justify-between items-center"><span>Header de Lote (Registro 1)</span> <span class="text-xs font-normal text-gray-500"> </span></h5> <dl class="grid grid-cols-[auto,1fr] gap-x-4 gap-y-1 text-sm"></dl> <!></div>'),wn=N('<p class="text-xs text-orange-600 italic mb-1">Aviso: Grupo pode estar incompleto ou fora de sequência.</p>'),En=N('<dt class="font-medium text-gray-500 truncate"> </dt> <dd class="text-gray-800 break-words"> </dd>',1),$n=N('<details class="text-xs mt-1"><summary class="cursor-pointer text-gray-500">Ver linha original</summary> <pre class="mt-1 font-mono bg-white p-1 border rounded overflow-x-auto"><code> </code></pre></details>'),Cn=N('<dt class="font-medium text-gray-500 truncate"> </dt> <dd class="text-gray-800 break-words"> </dd>',1),Nn=N('<details class="text-xs mt-1"><summary class="cursor-pointer text-gray-500">Ver linha original</summary> <pre class="mt-1 font-mono bg-white p-1 border rounded overflow-x-auto"><code> </code></pre></details>'),Ln=N('<div class="segment-item mb-2 last:mb-0"><h6 class="font-medium text-sm text-gray-700 flex justify-between items-center border-b border-dotted border-gray-300 pb-1 mb-1"><span>Segmento J (Itaú Retorno - Parte 1)</span> <span class="text-xs font-normal text-gray-500"> </span></h6> <dl class="grid grid-cols-[auto,1fr] gap-x-4 gap-y-1 text-xs"></dl> <!></div>  <div class="segment-item mb-2 last:mb-0"><h6 class="font-medium text-sm text-gray-700 flex justify-between items-center border-b border-dotted border-gray-300 pb-1 mb-1"><span>Segmento J (Itaú Retorno - Parte 2)</span> <span class="text-xs font-normal text-gray-500"> </span></h6> <dl class="grid grid-cols-[auto,1fr] gap-x-4 gap-y-1 text-xs"></dl> <!></div>',1),An=N('<dt class="font-medium text-gray-500 truncate"> </dt> <dd class="text-gray-800 break-words"> </dd>',1),Dn=N('<details class="text-xs mt-1"><summary class="cursor-pointer text-gray-500">Ver linha original</summary> <pre class="mt-1 font-mono bg-white p-1 border rounded overflow-x-auto"><code> </code></pre></details>'),Rn=N('<div class="segment-item mb-2 last:mb-0"><h6 class="font-medium text-sm text-gray-700 flex justify-between items-center border-b border-dotted border-gray-300 pb-1 mb-1"><span> </span> <span class="text-xs font-normal text-gray-500"> </span></h6> <dl class="grid grid-cols-[auto,1fr] gap-x-4 gap-y-1 text-xs"></dl> <!></div>'),Sn=N('<div class="border border-gray-200 rounded p-2 bg-white shadow-sm"><p class="text-xs font-medium text-gray-600 mb-1"></p> <!> <!></div>'),Tn=N('<div class="sub-segment border-l-4 border-green-200 pl-4 py-2"><h5 class="font-semibold mb-2 text-green-800"> </h5> <div class="space-y-3"></div></div>'),qn=N('<dt class="font-medium text-gray-500 truncate"> </dt> <dd class="text-gray-800 break-words"> </dd>',1),On=N('<details class="text-xs mt-1"><summary class="cursor-pointer text-gray-500">Ver linha original</summary> <pre class="mt-1 font-mono bg-white p-1 border rounded overflow-x-auto"><code> </code></pre></details>'),kn=N('<div class="sub-segment border-l-4 border-blue-200 pl-4 py-2"><h5 class="font-semibold mb-1 text-blue-800 flex justify-between items-center"><span>Trailer de Lote (Registro 5)</span> <span class="text-xs font-normal text-gray-500"> </span></h5> <dl class="grid grid-cols-[auto,1fr] gap-x-4 gap-y-1 text-sm"></dl> <!></div>'),Pn=N('<div class="segment border border-gray-200 rounded-md overflow-hidden"><h4 class="text-lg font-semibold p-3 bg-gray-100 border-b border-gray-200 text-gray-700"> <!> <span class="text-xs font-normal text-gray-500 ml-2"> </span></h4> <div class="p-3 space-y-4"><!> <!> <!></div></div>'),In=N('<dt class="font-medium text-gray-500 truncate"> </dt> <dd class="text-gray-800 break-words"> </dd>',1),Fn=N('<details class="text-xs p-2 bg-gray-50 border-t border-gray-200"><summary class="cursor-pointer text-gray-500">Ver linha original</summary> <pre class="mt-1 font-mono bg-white p-1 border rounded overflow-x-auto"><code> </code></pre></details>'),Vn=N('<div class="segment border border-gray-200 rounded-md overflow-hidden"><h4 class="text-lg font-semibold p-3 bg-gray-100 border-b border-gray-200 text-gray-700 flex justify-between items-center"><span>Trailer de Arquivo (Registro 9)</span> <span class="text-xs font-normal text-gray-500"> </span></h4> <dl class="p-3 grid grid-cols-[auto,1fr] gap-x-4 gap-y-1 text-sm"></dl> <!></div>'),Mn=N('<p class="text-center text-gray-500 italic mt-6">Nenhum arquivo processado ainda.</p>'),jn=N('<div class="cnab-viewer space-y-6"><!> <!> <!> <!> <!> <!> <!> <!> <!></div>');function Bn(o,e){Tt(e,!1);const t=ho(),a=ho(),n=ho(),r=ho(),d=ho(),u=ho(),l=ho(),i=ho(),p=ho(),_=ho();let s=tn(e,"result",8);const m="Layout definition missing for Segmento";function v(g){if(!g||typeof g!="object")return[];const A=[];for(const[k,E]of Object.entries(g))k.startsWith("_")||A.push({key:k,label:Le(k),value:w(E),original:g[`${k}_original`]});return A}function w(g){return g==null?"N/A":typeof g=="object"?JSON.stringify(g):String(g)}function R(g){const A=g.match(/^segmento_([a-z])([0-9]*)$/i);if(A){const k=A[1].toUpperCase(),E=A[2];return E&&E!==""?`${k}${E}`:k}return g.replace("segmento_","").toUpperCase()}To(()=>jo(s()),()=>{var g;U(t,(g=s())==null?void 0:g.bank_code)}),To(()=>jo(s()),()=>{var g;U(a,(g=s())==null?void 0:g.bank_name)}),To(()=>jo(s()),()=>{var g;U(n,(g=s())==null?void 0:g.header_arquivo)}),To(()=>jo(s()),()=>{var g;U(r,((g=s())==null?void 0:g.lotes)||{})}),To(()=>jo(s()),()=>{var g;U(d,(g=s())==null?void 0:g.trailer_arquivo)}),To(()=>jo(s()),()=>{var g;U(u,((g=s())==null?void 0:g.warnings)||[])}),To(()=>jo(s()),()=>{var g;U(l,((g=s())==null?void 0:g.errors)||[])}),To(()=>jo(s()),()=>{var g;U(i,(g=s())==null?void 0:g.file_info)}),To(()=>c(u),()=>{U(p,c(u).filter(g=>g.includes(m)))}),To(()=>c(u),()=>{U(_,c(u).filter(g=>!g.includes(m)))}),gr(),Sa();var b=jn(),H=f(b);{var V=g=>{var A=ln(),k=h(f(A),2),E=f(k),ao=f(E),J=h(E,2),ro=f(J),G=h(J,2),P=f(G),O=h(G,2),eo=f(O);L((X,co)=>{y(ao,`${X??""}:`),y(ro,c(t)),y(P,`${co??""}:`),y(eo,c(a)||"Desconhecido")},[()=>Le("codigo_banco"),()=>Le("nome_banco")],ie),$(g,A)};B(H,g=>{c(t)&&g(V)})}var C=h(H,2);{var x=g=>{var A=un(),k=h(f(A),2),E=h(f(k),2),ao=f(E),J=h(E,4),ro=f(J),G=h(J,4),P=f(G),O=h(G,4),eo=f(O),X=h(O,4),co=f(X);L(()=>{y(ao,c(i).total_lines_read),y(ro,c(i).non_empty_lines),y(P,c(i).detected_line_ending),oa(O,1,Zt(c(l).length>0?"text-red-600 font-bold":"text-green-600")),y(eo,c(l).length>0?`${c(l).length} encontrado(s)`:"Nenhum"),oa(X,1,Zt(c(u).length>0?"text-yellow-600 font-bold":"text-green-600")),y(co,c(u).length>0?`${c(u).length} encontrado(s)`:"Nenhum")}),$(g,A)};B(C,g=>{c(i)&&g(x)})}var M=h(C,2);{var S=g=>{var A=dn(),k=f(A),E=f(k),ao=h(k,2);mo(ao,5,()=>c(l),ze,(J,ro)=>{var G=cn(),P=f(G);L(()=>y(P,c(ro))),$(J,G)}),L(()=>y(E,`Erros Críticos (${c(l).length??""})`)),$(g,A)};B(M,g=>{c(l).length>0&&g(S)})}var T=h(M,2);{var D=g=>{var A=pn(),k=f(A),E=f(k),ao=h(k,2);mo(ao,5,()=>c(_),ze,(J,ro)=>{var G=_n(),P=f(G);L(()=>y(P,c(ro))),$(J,G)}),L(()=>y(E,`Avisos (${c(_).length??""})`)),$(g,A)};B(T,g=>{c(_).length>0&&g(D)})}var q=h(T,2);{var j=g=>{var A=vn(),k=f(A),E=f(k),ao=f(E),J=f(ao),ro=h(E,4);mo(ro,5,()=>c(p),ze,(G,P)=>{var O=fn(),eo=f(O);L(()=>y(eo,c(P))),$(G,O)}),L(()=>y(J,`Avisos de Layout Faltante (${c(p).length??""})`)),$(g,A)};B(q,g=>{c(p).length>0&&g(j)})}var oo=h(q,2);{var Po=g=>{var A=hn(),k=f(A),E=h(f(k),2),ao=f(E),J=h(k,2);mo(J,5,()=>v(c(n)),P=>P.key,(P,O)=>{var eo=mn(),X=Co(eo),co=f(X),Zo=h(X,2),ue=f(Zo);L(()=>{po(X,"title",c(O).key),y(co,`${c(O).label??""}:`),po(Zo,"title",c(O).original?`Original: ${c(O).original}`:""),y(ue,c(O).value)}),$(P,eo)});var ro=h(J,2);{var G=P=>{var O=gn(),eo=h(f(O),2),X=f(eo),co=f(X);L(()=>y(co,c(n)._linha_original)),$(P,O)};B(ro,P=>{c(n)._linha_original&&P(G)})}L(()=>y(ao,`Linha ${c(n)._lineNumber||"N/A"}`)),$(g,A)};B(oo,g=>{c(n)&&g(Po)})}var Io=h(oo,2);mo(Io,1,()=>Object.entries(c(r)),([g,A])=>g,(g,A)=>{let k=()=>c(A)[0],E=()=>c(A)[1];var ao=Pn(),J=f(ao),ro=f(J),G=h(ro);{var P=no=>{var _o=Pr();L((Ao,oe,ee,Fo)=>y(_o,`(${Ao??""}: ${oe??""}, ${ee??""}: ${Fo??""})`),[()=>Le("tipo_servico"),()=>w(E().header_lote.tipo_servico),()=>Le("tipo_operacao"),()=>w(E().header_lote.tipo_operacao)],ie),$(no,_o)};B(G,no=>{var _o;(_o=E().header_lote)!=null&&_o.tipo_servico&&no(P)})}var O=h(G,2),eo=f(O),X=h(J,2),co=f(X);{var Zo=no=>{var _o=yn(),Ao=f(_o),oe=h(f(Ao),2),ee=f(oe),Fo=h(Ao,2);mo(Fo,5,()=>v(E().header_lote),Z=>Z.key,(Z,W)=>{var xo=bn(),vo=Co(xo),Vo=f(vo),te=h(vo,2),Ee=f(te);L(()=>{po(vo,"title",c(W).key),y(Vo,`${c(W).label??""}:`),po(te,"title",c(W).original?`Original: ${c(W).original}`:""),y(Ee,c(W).value)}),$(Z,xo)});var Do=h(Fo,2);{var we=Z=>{var W=xn(),xo=h(f(W),2),vo=f(xo),Vo=f(vo);L(()=>y(Vo,E().header_lote._linha_original)),$(Z,W)};B(Do,Z=>{E().header_lote._linha_original&&Z(we)})}L(()=>y(ee,`Linha ${E().header_lote._lineNumber||"N/A"}`)),$(no,_o)};B(co,no=>{E().header_lote&&no(Zo)})}var ue=h(co,2);{var Pa=no=>{var _o=Tn(),Ao=f(_o),oe=f(Ao),ee=h(Ao,2);mo(ee,5,()=>E().detalhes_agrupados,ze,(Fo,Do,we)=>{var Z=Sn(),W=f(Z);W.textContent=`Grupo ${we+1}`;var xo=h(W,2);{var vo=Ro=>{var ae=wn();$(Ro,ae)};B(xo,Ro=>{c(Do)._incomplete_group&&Ro(vo)})}var Vo=h(xo,2);{var te=Ro=>{var ae=Ln();const ce=ie(()=>c(Do).segmento_j_itau_ret_p1),Ho=ie(()=>c(Do).segmento_j_itau_ret_p2);var de=Co(ae),$e=f(de),_e=h(f($e),2),Ie=f(_e),Fe=h($e,2);mo(Fe,5,()=>v(c(ce)),to=>to.key,(to,K)=>{var Q=En(),Y=Co(Q),yo=f(Y),$o=h(Y,2),re=f($o);L(()=>{po(Y,"title",c(K).key),y(yo,`${c(K).label??""}:`),po($o,"title",c(K).original?`Original: ${c(K).original}`:""),y(re,c(K).value)}),$(to,Q)});var pt=h(Fe,2);{var Ce=to=>{var K=$n(),Q=h(f(K),2),Y=f(Q),yo=f(Y);L(()=>y(yo,c(ce)._linha_original)),$(to,K)};B(pt,to=>{c(ce)._linha_original&&to(Ce)})}var Ve=h(de,2),Ne=f(Ve),Me=h(f(Ne),2),ft=f(Me),je=h(Ne,2);mo(je,5,()=>v(c(Ho)),to=>to.key,(to,K)=>{var Q=Cn(),Y=Co(Q),yo=f(Y),$o=h(Y,2),re=f($o);L(()=>{po(Y,"title",c(K).key),y(yo,`${c(K).label??""}:`),po($o,"title",c(K).original?`Original: ${c(K).original}`:""),y(re,c(K).value)}),$(to,Q)});var vt=h(je,2);{var Be=to=>{var K=Nn(),Q=h(f(K),2),Y=f(Q),yo=f(Y);L(()=>y(yo,c(Ho)._linha_original)),$(to,K)};B(vt,to=>{c(Ho)._linha_original&&to(Be)})}L(()=>{y(Ie,`Linha ${c(ce)._lineNumber||"N/A"}`),y(ft,`Linha ${c(Ho)._lineNumber||"N/A"}`)}),$(Ro,ae)},Ee=Ro=>{var ae=Qt(),ce=Co(ae);mo(ce,1,()=>Object.entries(c(Do)),([Ho,de])=>Ho,(Ho,de)=>{let $e=()=>c(de)[0],_e=()=>c(de)[1];var Ie=Qt(),Fe=Co(Ie);{var pt=Ce=>{var Ve=Rn(),Ne=f(Ve),Me=f(Ne),ft=f(Me),je=h(Me,2),vt=f(je),Be=h(Ne,2);mo(Be,5,()=>v(_e()),Q=>Q.key,(Q,Y)=>{var yo=An(),$o=Co(yo),re=f($o),Mt=h($o,2),Va=f(Mt);L(()=>{po($o,"title",c(Y).key),y(re,`${c(Y).label??""}:`),po(Mt,"title",c(Y).original?`Original: ${c(Y).original}`:""),y(Va,c(Y).value)}),$(Q,yo)});var to=h(Be,2);{var K=Q=>{var Y=Dn(),yo=h(f(Y),2),$o=f(yo),re=f($o);L(()=>y(re,_e()._linha_original)),$(Q,Y)};B(to,Q=>{_e()._linha_original&&Q(K)})}L(Q=>{y(ft,`Segmento ${Q??""}`),y(vt,`Linha ${_e()._lineNumber||"N/A"}`)},[()=>R($e())],ie),$(Ce,Ve)};B(Fe,Ce=>{$e().startsWith("_")||Ce(pt)})}$(Ho,Ie)}),$(Ro,ae)};B(Vo,Ro=>{c(Do).segmento_j_itau_ret_p1&&c(Do).segmento_j_itau_ret_p2?Ro(te):Ro(Ee,!1)})}$(Fo,Z)}),L(()=>y(oe,`Detalhes Agrupados (Registro 3) - ${E().detalhes_agrupados.length??""} grupo(s)`)),$(no,_o)};B(ue,no=>{E().detalhes_agrupados&&E().detalhes_agrupados.length>0&&no(Pa)})}var Ia=h(ue,2);{var Fa=no=>{var _o=kn(),Ao=f(_o),oe=h(f(Ao),2),ee=f(oe),Fo=h(Ao,2);mo(Fo,5,()=>v(E().trailer_lote),Z=>Z.key,(Z,W)=>{var xo=qn(),vo=Co(xo),Vo=f(vo),te=h(vo,2),Ee=f(te);L(()=>{po(vo,"title",c(W).key),y(Vo,`${c(W).label??""}:`),po(te,"title",c(W).original?`Original: ${c(W).original}`:""),y(Ee,c(W).value)}),$(Z,xo)});var Do=h(Fo,2);{var we=Z=>{var W=On(),xo=h(f(W),2),vo=f(xo),Vo=f(vo);L(()=>y(Vo,E().trailer_lote._linha_original)),$(Z,W)};B(Do,Z=>{E().trailer_lote._linha_original&&Z(we)})}L(()=>y(ee,`Linha ${E().trailer_lote._lineNumber||"N/A"}`)),$(no,_o)};B(Ia,no=>{E().trailer_lote&&no(Fa)})}L(()=>{y(ro,`Lote ${k()??""} `),y(eo,`Linhas ${E()._startLine||"?"} - ${E()._endLine||"?"}`)}),$(g,ao)});var zo=h(Io,2);{var Lo=g=>{var A=Vn(),k=f(A),E=h(f(k),2),ao=f(E),J=h(k,2);mo(J,5,()=>v(c(d)),P=>P.key,(P,O)=>{var eo=In(),X=Co(eo),co=f(X),Zo=h(X,2),ue=f(Zo);L(()=>{po(X,"title",c(O).key),y(co,`${c(O).label??""}:`),po(Zo,"title",c(O).original?`Original: ${c(O).original}`:""),y(ue,c(O).value)}),$(P,eo)});var ro=h(J,2);{var G=P=>{var O=Fn(),eo=h(f(O),2),X=f(eo),co=f(X);L(()=>y(co,c(d)._linha_original)),$(P,O)};B(ro,P=>{c(d)._linha_original&&P(G)})}L(()=>y(ao,`Linha ${c(d)._lineNumber||"N/A"}`)),$(g,A)};B(zo,g=>{c(d)&&g(Lo)})}var ke=h(zo,2);{var Pe=g=>{var A=Mn();$(g,A)};B(ke,g=>{s()||g(Pe)})}$(o,b),qt()}var Un=N('<p class="text-blue-600 animate-pulse">Carregando e processando arquivo...</p>'),zn=N('<p class="text-red-600 font-semibold bg-red-100 p-3 rounded border border-red-300"> </p>'),Hn=N('<h2 class="text-xl font-semibold mb-4 text-gray-700">Resultado da Análise: <span class="font-normal italic"> </span></h2> <!>',1),Jn=N(`<div class="flex flex-col min-h-screen"><main class="flex-grow max-w-4xl mx-auto p-6 bg-white rounded-lg shadow-md my-8 w-full"><h1 class="text-2xl font-bold mb-4 text-gray-700">Leitor CNAB 240 (REM/RET)</h1> <p class="mb-2 text-gray-600">Selecione um arquivo CNAB 240 (remessa ou retorno) para análise local no
      navegador.</p> <p class="mb-6 text-sm text-orange-700 bg-orange-100 p-3 rounded border border-orange-300"><strong>Atenção:</strong> Este é um leitor básico e pode não interpretar
      todos os segmentos ou validações específicas do seu banco.</p> <div class="controls mb-6 flex flex-wrap items-center gap-4"><label for="cnabFile" class="font-semibold text-gray-700">Arquivo CNAB:</label> <input type="file" id="cnabFile" accept=".rem,.txt,.REM,.TXT,.ret,.RET" class="block w-full sm:w-auto text-sm text-gray-500
               file:mr-4 file:py-2 file:px-4
               file:rounded-md file:border-0
               file:text-sm file:font-semibold
               file:bg-blue-50 file:text-blue-700
               hover:file:bg-blue-100
               disabled:opacity-50 disabled:cursor-not-allowed flex-grow"> <button class="px-4 py-2 bg-gray-500 text-white rounded-md hover:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed">Limpar</button> <button class="px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed" title="Baixar resultado como JSON"><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 inline-block mr-1 align-text-bottom" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg> Download JSON</button></div> <!> <!> <!></main> <footer class="w-full text-center p-4 mt-auto bg-gray-200 text-gray-600 text-sm"><p></p> <p><a href="https://github.com/mlvieira" class="hover:underline">Github</a></p></footer></div>`);function Gn(o,e){Tt(e,!1);const[t,a]=on(),n=()=>Zr(d,"$state",t);let r=ho();const d=ht,u=new Date().getFullYear();function l(D){const q=D.target.files[0];q&&ht.processCnabFile(q)}function i(){ht.reset(),c(r)&&cr(r,c(r).value="")}function p(){const D=n().parsedResult,oo=`cnab_result_${(n().fileName||"cnab_file").replace(/\.[^/.]+$/,"").replace(/[^a-z0-9]/gi,"_").toLowerCase()}.json`;if(!D){alert("Nenhum dado processado para baixar.");return}try{const Po=JSON.stringify(D,null,2),Io=new Blob([Po],{type:"application/json"}),zo=URL.createObjectURL(Io),Lo=document.createElement("a");Lo.href=zo,Lo.download=oo,document.body.appendChild(Lo),Lo.click(),document.body.removeChild(Lo),URL.revokeObjectURL(zo)}catch(Po){console.error("Erro ao gerar JSON para download:",Po),alert("Ocorreu um erro ao gerar o arquivo JSON.")}}Sa();var _=Jn(),s=f(_),m=h(f(s),6),v=h(f(m),2);Kr(v,D=>U(r,D),()=>c(r));var w=h(v,2),R=h(w,2),b=h(m,2);{var H=D=>{var q=Un();$(D,q)};B(b,D=>{n().status==="loading"&&D(H)})}var V=h(b,2);{var C=D=>{var q=zn(),j=f(q);L(()=>y(j,`Erro: ${n().error??""}`)),$(D,q)};B(V,D=>{n().status==="error"&&D(C)})}var x=h(V,2);{var M=D=>{var q=Hn(),j=Co(q),oo=h(f(j)),Po=f(oo),Io=h(j,2);Bn(Io,{get result(){return n().parsedResult}}),L(()=>y(Po,n().fileName)),$(D,q)};B(x,D=>{n().parsedResult&&D(M)})}var S=h(s,2),T=f(S);T.textContent=`© ${u??""} Matheus Vieira. Todos os direitos reservados.`,L(()=>{v.disabled=n().status==="loading",w.disabled=n().status==="idle"&&!n().fileName,R.disabled=!n().parsedResult||n().status==="loading"}),gt("change",v,l),gt("click",w,i),gt("click",R,p),$(o,_),qt(),a()}Ir(Gn,{target:document.getElementById("app")});
